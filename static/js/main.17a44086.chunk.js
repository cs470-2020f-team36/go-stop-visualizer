(this["webpackJsonpgo-stop-visualizer"]=this["webpackJsonpgo-stop-visualizer"]||[]).push([[0],{102:function(e,t){},143:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(2),a=n(57),s=n.n(a),i=(n(75),n(7)),o=n(3),l=n.n(o),d=n(6),u=n(39),j=n(8),h=n(13),b=n(16),m=n.n(b),x=function(e){return{updateClientId:function(e,t){return localStorage.setItem("clientId",t),{clientId:t}},updateRooms:function(e,t){return{rooms:t}},updateRoomId:function(e,t){return{roomId:t}},updateGame:function(e,t){return{game:t}}}},f=n(58),p=n.n(f)()("https://cs470-go-stop.herokuapp.com/");function g(e,t){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.emit(t,n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return w.apply(this,arguments)}function w(){return(w=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){p.once(t,(function(t){e(t)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){p.on(e,t)}function k(e,t){p.off(e,t)}var N=n(17),I=n(10),R={sm:"text-xl",base:"text-2xl",lg:"text-4xl"},C=function(e){var t,n=e.size,c=void 0===n?"base":n,a=Object(I.a)(e,["size"]);return Object(r.jsx)("button",Object(i.a)(Object(i.a)({},a),{},{className:"flex items-center justify-center p-3 rounded-full\n        disabled:bg-transparent hover:bg-gray-300 active:bg-gray-400 focus:bg-gray-400 \n        disabled:opacity-50 disabled:cursor-not-allowed \n        focus:outline-none focus:shadow-outline ".concat(R[c]," ").concat(null!==(t=e.className)&&void 0!==t?t:"")}))},W=n(18),S=n(65),z=function(e){var t=e.children;return Object(r.jsx)("div",{className:"w-full bg-gray-200 min-h-full",children:Object(r.jsxs)("div",{className:"max-w-4xl mx-auto text-gray-900 h-full",children:[t," "]})})},_=function(e){var t=e.children;return Object(r.jsx)("header",{className:"p-4",children:t})},F=function(e){return Object(r.jsx)("input",Object(i.a)(Object(i.a)({},e),{},{className:"shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ".concat(e.className)}))},B=n(22),D=function(e,t){var n=e.history,r=e.clientId,c=e.roomId,a=e.rooms,s=e.updateRoomId;return Object(d.a)(l.a.mark((function e(){var i,o,d,u,j,h,b,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c||!(null===a||void 0===a||null===(i=a.find((function(e){return e.id===c})))||void 0===i?void 0:i.gameStarted)){e.next=3;break}return n.push("/rooms/".concat(c)),e.abrupt("return");case 3:if(r){e.next=5;break}return e.abrupt("return");case 5:return g("my room",{client:r}),e.next=8,v("my room response");case 8:(o=e.sent).success?(s(null!==(d=null===(u=o.result)||void 0===u?void 0:u.id)&&void 0!==d?d:null),!(null===(j=o.result)||void 0===j?void 0:j.id)||!(null===(h=o.result)||void 0===h?void 0:h.gameStarted)&&t?(null===(b=o.result)||void 0===b?void 0:b.id)||console.error("not joined"):n.push("/rooms/".concat(null===(m=o.result)||void 0===m?void 0:m.id))):console.error(o.error);case 10:case"end":return e.stop()}}),e)})))};var H={Wrapper:function(e){var t=e.children;return Object(r.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow max-w-4xl m-auto box-content mx-4",children:Object(r.jsx)("table",{className:"border-collapse table-auto w-full whitespace-no-wrap bg-white table-striped relative",children:t})})},Head:function(e){var t=e.children;return Object(r.jsx)("thead",{children:t})},Body:function(e){var t=e.children;return Object(r.jsx)("tbody",{children:t})},Row:function(e){var t,n=e.children,c=Object(I.a)(e,["children"]);return Object(r.jsx)("tr",Object(i.a)(Object(i.a)({},c),{},{className:"text-left ".concat(null!==(t=c.className)&&void 0!==t?t:""),children:n}))},Data:function(e){var t,n=e.children,c=Object(I.a)(e,["children"]);return Object(r.jsx)("td",Object(i.a)(Object(i.a)({},c),{},{className:"border-dashed border-t border-gray-200 ".concat(null!==(t=c.className)&&void 0!==t?t:""),children:n}))},Header:function(e){var t,n=e.children,c=Object(I.a)(e,["children"]);return Object(r.jsx)("th",Object(i.a)(Object(i.a)({},c),{},{className:"py-2 px-3 sticky top-0 border-b text-gray-700 border-gray-200 bg-gray-100 ".concat(null!==(t=c.className)&&void 0!==t?t:""),children:n}))}},A=n(62),L=n(63),E=n(25),M=n(61);function J(e){return"/images/cards/".concat(e.startsWith("?")?"hidden":e.startsWith("*")?"bomb":e.startsWith("+")?"bonus".concat(e[1]):e,".png")}function G(e){if(e.startsWith("B"))return"".concat(parseInt(e.substring(1)),"\uc6d4 \uad11");if(e.startsWith("A"))return"".concat(parseInt(e.substring(1)),"\uc6d4 \uc5f4\ub057");if(e.startsWith("R")){var t=parseInt(e.substring(1)),n=[1,2,3].includes(t)?"\ud64d":[4,5,7].includes(t)?"\ucd08":[6,9,10].includes(t)?"\uccad":null;return"".concat(t,"\uc6d4 \ub760").concat(n?" (".concat(n,"\ub2e8)"):"")}if(e.startsWith("J")){var r=parseInt(e.substring(1,3)),c=parseInt(e.substring(3)),a=2===c||12===r?2:1;return"".concat(r,"\uc6d4 ").concat(2===a?"\uc30d":"","\ud53c").concat(2===a?"":" (".concat(c,")"))}if(e.startsWith("+")){var s=parseInt(e.substring(1));return"\ubcf4\ub108\uc2a4 ".concat(2===s?"\uc30d":"\uc4f0\ub9ac","\ud53c")}if(e.startsWith("*")){var i=parseInt(e.substring(1));return"\ud3ed\ud0c4 (".concat(i,")")}return"\uc228\uaca8\uc9c4 \ud328"}function P(e,t){var n=e.board.hands[t].length,r=e.board.hands[t].filter((function(n){return n.startsWith("*")||e.state.shaking_histories[t].flat().includes(n)}));return[].concat(Object(E.a)(r),Object(E.a)(Array(n-r.length).fill("?")))}n(143);var T=function(e){var t,n=e.card,c=void 0===n?"?":n,a=e.anchorBottom,s=void 0!==a&&a,o=e.hoverEnabled,l=void 0===o||o,d=e.title,u=(e.children,Object(I.a)(e,["card","anchorBottom","hoverEnabled","title","children"]));return Object(r.jsx)("button",Object(i.a)(Object(i.a)({},u),{},{className:"".concat(l?"card-button":""," ").concat(null!==(t=e.className)&&void 0!==t?t:""," ").concat(s?"anchor-bottom":""," ").concat(l?"":"cursor-default"),children:Object(r.jsx)("img",{title:d,alt:d,src:J(c),className:"w-full h-full",style:{borderRadius:4}})}))},X={xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl"},q=function(e){var t,n=e.size,c=void 0===n?"base":n,a=Object(I.a)(e,["size"]);return Object(r.jsx)("button",Object(i.a)(Object(i.a)({},a),{},{className:"flex items-center justify-center p-3 rounded-full\n        disabled:bg-transparent hover:bg-gray-300 active:bg-gray-400 focus:bg-gray-400 \n        disabled:opacity-50 disabled:cursor-not-allowed \n        focus:outline-none focus:shadow-outline ".concat(X[c]," ").concat(null!==(t=e.className)&&void 0!==t?t:"")}))},K=function(e){var t=e.game,n=e.player,c=e.clientId,a=e.updateGame,s=e.history,i=!!c&&t.players.includes(c);return Object(r.jsx)("div",{className:"w-full h-full flex place-items-center fixed z-10 top-0 left-0",style:{backgroundColor:"rgba(0, 0, 0, 0.45)"},children:Object(r.jsxs)("div",{className:"p-8 bg-white rounded-2xl w-2/3 text-center m-auto",children:[Object(r.jsx)("h2",{className:"font-black text-3xl text-gray-800 mb-3",children:null===t.state.winner?"\ud83e\udd14 \ub098\uac00\ub9ac":t.state.winner===n?"\ud83c\udf1f \uc2b9\ub9ac!":1-t.state.winner===n?"\ud83d\ude25 \ud328\ubc30...":"\ud83c\udfc6 ".concat(t.players[t.state.winner],"\uc758 \uc2b9\ub9ac!")}),Object(r.jsx)("p",{children:Object(r.jsx)("span",{className:"text-xl text-gray-800",children:null===t.state.winner?null:Object(r.jsxs)(r.Fragment,{children:["\ucd1d"," ",Object(r.jsx)("span",{className:"font-bold",children:t.state.scores[t.state.winner]}),"\uc810"]})})}),Object(r.jsx)("p",{children:Object(r.jsx)("span",{className:"text-md text-gray-800",children:null===t.state.winner?null:[{kind:"go-add",arg:t.state.go_histories[t.state.winner].length}].concat(Object(E.a)(t.state.score_factors[t.state.winner])).map((function(e){return"go-add"===e.kind?0===e.arg?null:"\uace0 ".concat(e.arg,"\uc810"):"go"===e.kind?e.arg<=2?null:"\uace0 ".concat(Math.pow(2,e.arg-2),"\ubc30"):"bright"===e.kind?0===e.arg?null:"\uad11 ".concat(e.arg,"\uc810"):"animal"===e.kind?e.arg<5?null:"\uc5f4\ub057 ".concat(e.arg-4,"\uc810"):"ribbon"===e.kind?e.arg<5?null:"\ub2e8 ".concat(e.arg-4,"\uc810"):"junk"===e.kind?e.arg<10?null:"\ud53c ".concat(e.arg-9,"\uc810"):"five birds"===e.kind?"\uace0\ub3c4\ub9ac 5\uc810":"red ribbons"===e.kind?"\ud64d\ub2e8 3\uc810":"blue ribbons"===e.kind?"\uccad\ub2e8 3\uc810":"plant ribbons"===e.kind?"\ucd08\ub2e8 3\uc810":"shaking"===e.kind?0===e.arg?null:"\ud754\ub4e4\uae30 ".concat(Math.pow(2,e.arg),"\ubc30"):"bright penalty"===e.kind?"\uad11\ubc15 2\ubc30":"animal penalty"===e.kind?"\uba4d\ub530 2\ubc30":"junk penalty"===e.kind?"\ud53c\ubc15 2\ubc30":"go penalty"===e.kind?"\uace0\ubc15 2\ubc30":"four of a month"===e.kind?"\ucd1d\ud1b5 10\uc810":"\uc4f0\ub9ac\ubed1 10\uc810"})).filter((function(e){return null!==e})).join(", ")})}),Object(r.jsx)("p",{children:i?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q,{className:"m-auto mt-4",onClick:Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:if(c){e.next=4;break}return e.abrupt("return");case 4:return a(null),g("end game",{client:c}),e.next=8,v("end game response");case 8:if((t=e.sent).success){e.next=12;break}return console.error(t.error),e.abrupt("return");case 12:return g("start game",{client:c}),e.next=15,v("start game response");case 15:(n=e.sent).success||console.error(n.error);case 17:case"end":return e.stop()}}),e)}))),children:"\uc0c8 \uac8c\uc784 \ud558\uae30"}),Object(r.jsx)(q,{className:"m-auto mt-4",onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:if(c){e.next=4;break}return e.abrupt("return");case 4:return a(null),g("end game",{client:c}),e.next=8,v("end game response");case 8:if(e.sent.success){e.next=12;break}return s.push("/"),e.abrupt("return");case 12:return g("start game",{client:c}),e.next=15,v("start game response");case 15:(t=e.sent).success||console.error(t.error);case 17:case"end":return e.stop()}}),e)}))),children:"\uc0c8 \uac8c\uc784 \ud558\uae30"})]}):null})]})})},Q=function(e){var t=e.game,n=e.player,a=e.clientId,s=1327+(null===n?-53:0),i=function(){var e=Object(c.useState)({width:32,height:32}),t=Object(B.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),o=Math.min((i.width-32)/1258,(i.height-32)/s),l=null!==n&&void 0!==n?n:1,d=0===l?1:0;return Object(r.jsxs)("div",{className:"m-auto",style:{width:1258*o+32,height:o*s+32,padding:16},children:[Object(r.jsx)(Z,{ratio:o,hand:P(t,d),clientId:a,turn:t.state.player===d}),Object(r.jsx)("div",{style:{height:32*o}}),Object(r.jsxs)("div",{className:"flex justify-center",style:{height:189*o},children:[Object(r.jsx)(U,{ratio:o,name:t.players[d]}),Object(r.jsx)($,{captureField:t.board.capture_fields[d],animal9Moved:t.state.animal_9_moved,ratio:o}),Object(r.jsx)(V,{ratio:o,score:t.state.scores[d],go:t.state.go_histories[d].length,stacking:t.state.stacking_histories[d].length,shaking:t.state.shaking_histories[d].length})]}),Object(r.jsx)("div",{style:{height:96*o}}),Object(r.jsx)(te,{centerField:t.board.center_field,ratio:o}),Object(r.jsx)("div",{style:{height:96*o}}),Object(r.jsxs)("div",{className:"flex justify-center",style:{height:189*o},children:[Object(r.jsx)(U,{ratio:o,name:t.players[l]}),Object(r.jsx)($,{captureField:t.board.capture_fields[l],animal9Moved:t.state.animal_9_moved,ratio:o}),Object(r.jsx)(V,{ratio:o,score:t.state.scores[l],go:t.state.go_histories[l].length,stacking:t.state.stacking_histories[l].length,shaking:t.state.shaking_histories[l].length})]}),Object(r.jsx)("div",{style:{height:32*o}}),Object(r.jsx)(Z,{ratio:o,hand:null!==n?t.board.hands[l]:P(t,l),mine:null!==n,actions:t.state.player===n?t.actions:[],clientId:a,turn:t.state.player===l})]})},U=function(e){var t=e.ratio,n=e.name;return Object(r.jsxs)("div",{style:{width:106*t,marginRight:40*t,height:90*t*1.618,fontSize:24*t,padding:8*t,lineHeight:1.1,borderRadius:8*t,backgroundColor:"#29604D",textAlign:"center",position:"relative"},className:"text-white",children:[Object(r.jsx)("div",{style:{height:90*t,backgroundColor:"white",borderRadius:8*t},children:Object(r.jsx)("img",{src:"https://i1.wp.com/similarpng.com/wp-content/plugins/userswp/assets/images/no_profile.png",style:{width:90*t,height:90*t,borderRadius:8*t},className:"object-cover object-center",alt:"".concat(n,"\uc758 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0")})}),Object(r.jsx)("div",{style:{position:"absolute",bottom:8*t,width:90*t},className:"truncate",children:n})]})},V=function(e){var t=e.ratio,n=e.score,c=e.go,a=e.stacking,s=e.shaking;return Object(r.jsxs)("div",{style:{width:106*t,marginLeft:40*t,height:90*t*1.618,fontSize:24*t,padding:8*t,lineHeight:1.1,borderRadius:8*t,backgroundColor:"#29604D",fontFamily:"sans-serif",textAlign:"left"},className:"text-white",children:[Object(r.jsxs)("div",{style:{fontSize:n>99999?"1em":n>9999?"1.1em":"1.3em",textAlign:"center",lineHeight:"".concat(48*t,"px"),whiteSpace:"nowrap",width:"min-content",marginLeft:"50%",transform:"translateX(-50%)",padding:"0 ".concat(8*t,"px"),borderRadius:8*t},className:"font-bold text-right",children:[n,"\uc810"]}),Object(r.jsxs)("div",{style:{marginLeft:15*t,width:60*t},children:["\ud83d\udd25 ",Object(r.jsx)("span",{className:"font-black float-right",children:c})]}),Object(r.jsxs)("div",{style:{marginLeft:15*t,width:60*t},children:["\ud83d\udca9 ",Object(r.jsx)("span",{className:"font-black float-right",children:a})]}),Object(r.jsxs)("div",{style:{marginLeft:15*t,width:60*t},children:["\ud83d\udd14 ",Object(r.jsx)("span",{className:"font-black float-right",children:s})]})]})},Y=function(e){var t=e.card,n=e.width,c=e.height,a=e.alt,s=e.title,o=e.style,l=void 0===o?{}:o,d=e.className,u=e.onClick,j=n||c?!n&&c?{width:68/105*c,height:c}:n&&!c?{width:n,height:105*n/68}:{width:n,height:c}:{width:68,height:105},h=j.width,b=j.height;return Object(r.jsx)("img",{src:J(t),style:Object(i.a)({width:h,height:b,objectPosition:"center",objectFit:"cover"},l),alt:null!==a&&void 0!==a?a:G(t),title:s,className:d,onClick:u})},Z=function(e){var t=e.hand,n=e.mine,c=void 0!==n&&n,a=e.actions,s=void 0===a?[]:a,o=e.ratio,u=e.style,j=void 0===u?{}:u,h=e.turn,b=e.clientId,m=c?100*o:68*o,x=c?154*o:105*o,f=c?12*o:8*o;return Object(r.jsxs)("div",{className:"flex w-full place-content-center",children:[Object(r.jsx)("div",{style:{width:c?54*o:40*o,height:x+2*f,lineHeight:1},className:"flex items-center",children:h&&t.length>0&&Object(r.jsx)(M.a,{size:c?40*o:32*o,color:"white"})}),Object(r.jsx)("div",{className:"flex",style:Object(i.a)({padding:f/2,backgroundColor:0===t.length?"transparent":"#29604D",borderRadius:8*o,marginRight:c?54*o:40*o,minWidth:16*o+2*f,height:x+2*f},j),children:t.map((function(e,t){var n=c?s.find((function(t){return"throw"===t.kind&&t.card===e||"throw bomb"===t.kind&&e.startsWith("*")||"bomb"===t.kind&&["B","A","R","J"].includes(e[0])&&t.month===parseInt(e.substring(1,3),10)||"shakable"===t.kind&&t.card===e})):void 0,a=n?"throw"===n.kind?"".concat(G(e)," \ub0b4\uae30"):"throw bomb"===n.kind?"\ud3ed\ud0c4 \ub0b4\uae30":"bomb"===n.kind?"".concat(n.month,"\uc6d4 \ud3ed\ud0c4"):"".concat(G(e),"\ub85c ").concat(parseInt(e.substring(1,3),10),"\uc6d4 \ud754\ub4e4\uae30"):void 0;return Object(r.jsx)(T,{card:e,style:{width:m,margin:f/2,borderRadius:4*o},title:a,hoverEnabled:c,anchorBottom:!0,className:c?0===s.length?"cursor-not-allowed":"cursor-pointer":"",onClick:c?Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return p.emit("play",{client:b,action:n}),e.next=5,v("play response");case 5:(t=e.sent).success||console.error(t.error);case 7:case"end":return e.stop()}}),e)}))):void 0},t)}))})]})},$=function(e){var t=e.captureField,n=e.animal9Moved,c=e.ratio,a=(e.style,t.filter((function(e){return e.startsWith("B")}))),s=t.filter((function(e){return e.startsWith("A")&&(!n||"A09"!==e)})),i=s.includes("A02")&&s.includes("A04")&&s.includes("A08"),o=Math.max(s.length-4,0)+(i?5:0),l=t.filter((function(e){return e.startsWith("R")})),d=l.includes("R01")&&l.includes("R02")&&l.includes("R03"),u=l.includes("R04")&&l.includes("R05")&&l.includes("R07"),j=l.includes("R06")&&l.includes("R09")&&l.includes("R10"),h=Math.max(l.length-4,0)+(j?3:0)+(u?3:0)+(d?3:0),b=t.filter((function(e){return e.startsWith("J")||e.startsWith("+")||!!n&&"A09"===e})),m=b.map((function(e){return e.startsWith("J")?"J110"===e||"J111"===e?1:"J120"===e||"J112"===e?2:1:"A09"===e||"+2"===e?2:"+3"===e?3:0})).reduce((function(e,t){return e+t}),0);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ee,{pile:a,sizeOfChunk:5,ratio:c,style:{marginRight:40*c},number:a.length<3?a.length:5===a.length?15:4===a.length?4:a.includes("B12")?2:3,isScore:a.length>=3}),Object(r.jsx)(ee,{pile:s,ratio:c,style:{marginRight:40*c},number:o>0?o:s.length,isScore:o>0}),Object(r.jsx)(ee,{pile:l,ratio:c,style:{marginRight:40*c},number:h>0?h:l.length,isScore:h>0}),Object(r.jsx)(ee,{pile:b,sizeOfChunk:8,ratio:c,style:{marginRight:40*c},number:m>9?m-9:m,isScore:m>9})]})},ee=function(e){var t=e.pile,n=e.ratio,c=e.number,a=e.isScore,s=e.sizeOfChunk,o=void 0===s?3:s,l=e.style,d=void 0===l?{}:l,u=68*n,j=105*n,h=24*n,b=28*n,m=Math.ceil(t.length/o),x=u+(o-1)*h,f=j+(m-1)*b,p=t.length-1;return Object(r.jsxs)("div",{style:Object(i.a)({width:x,height:f,position:"relative"},d),children:[t.map((function(e,t){return Object(r.jsx)(Y,{card:e,width:u,style:{position:"absolute",left:t%o*h,top:Math.floor(t/o)*b,borderRadius:4*n}},t)})),0===t.length?null:Object(r.jsx)("div",{className:"absolute",style:{width:40*n,height:40*n,left:p%o*h+u-40*n,top:Math.floor(p/o)*b+j-40*n,backgroundColor:"white",border:"".concat(4*n,"px solid ").concat(a?"#262C34":"#4f5257"),color:a?"#262C34":"#65676b",fontWeight:a?"bold":"normal",borderRadius:8*n,fontSize:28*n,lineHeight:"".concat(32*n,"px"),textAlign:"center"},children:c})]})},te=function(e){var t=e.centerField,n=e.ratio,c=e.style,a=void 0===c?{}:c;return Object(r.jsxs)("div",{className:"flex",style:Object(i.a)({height:392*n},a),children:[Object(r.jsxs)("div",{className:"flex flex-wrap justify-between",style:{height:446*n,width:428*n},children:[Object(r.jsx)(ne,{field:t[1],ratio:n}),Object(r.jsx)(ne,{field:t[2],ratio:n}),Object(r.jsx)(ne,{field:t[3],ratio:n}),Object(r.jsx)(ne,{field:t[7],ratio:n}),Object(r.jsx)(ne,{field:t[8],ratio:n}),Object(r.jsx)(ne,{field:t[9],ratio:n})]}),Object(r.jsx)("div",{className:"flex justify-center items-center",style:{height:392*n,width:290*n},children:Object(r.jsx)(Y,{card:"?",width:90*n,style:{borderRadius:8*n}})}),Object(r.jsxs)("div",{className:"flex flex-wrap justify-between",style:{height:446*n,width:428*n},children:[Object(r.jsx)(ne,{field:t[4],ratio:n}),Object(r.jsx)(ne,{field:t[5],ratio:n}),Object(r.jsx)(ne,{field:t[6],ratio:n}),Object(r.jsx)(ne,{field:t[10],ratio:n}),Object(r.jsx)(ne,{field:t[11],ratio:n}),Object(r.jsx)(ne,{field:t[12],ratio:n})]})]})},ne=function(e){var t=e.field,n=void 0===t?[]:t,c=e.ratio,a=(e.style,n.length<=3?1:4===n.length?2/3:.5);return Object(r.jsx)("div",{className:"relative",style:{height:180*c,width:122*c},children:n.map((function(e,t){return Object(r.jsx)(Y,{card:e,width:90*c,style:{position:"absolute",top:20*t*a*c,left:16*t*a*c,borderRadius:8*c}},t)}))})},re=function(e){var t=e.game,n=e.player,c=e.clientId,a=e.updateGame,s=Object(I.a)(e,["game","player","clientId","updateGame"]);return Object(r.jsxs)("div",{className:"w-full h-full flex place-items-center",style:{backgroundColor:"#3B7157"},children:[Object(r.jsx)(Q,{game:t,player:n,clientId:c}),t.state.ended?Object(r.jsx)(K,Object(i.a)({game:t,player:n,clientId:c,updateGame:a},s)):null]})},ce=Object(h.connect)((function(e){return e}),x)((function(e){var t=e.id,n=e.updateGame,a=e.game,s=e.clientId,o=Object(I.a)(e,["id","updateGame","game","clientId"]);Object(c.useEffect)((function(){var e=function(e){e.success&&n(e.result)};return g("spectate game",{room:t}),y("spectate game response",e),function(){return k("spectate game response",e)}}),[t,n]);var u=a&&a.players[a.state.player]===s,j=Object(c.useState)(!1),h=Object(B.a)(j,2),b=h[0],x=h[1],f=Object(c.useState)(!1),O=Object(B.a)(f,2),w=O[0],R=O[1],W=Object(c.useState)(null),S=Object(B.a)(W,2),z=S[0],_=S[1];m()(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:if(a){e.next=4;break}return e.abrupt("return");case 4:if(u){e.next=6;break}return e.abrupt("return");case 6:if(Object.values(a.flags).some((function(e){return e}))){e.next=8;break}return e.abrupt("return");case 8:a.flags.go?(R(!0),_(Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{className:"font-black text-xl text-gray-800 mb-3",children:"\uace0 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),Object(r.jsxs)("div",{className:"flex justify-center",children:[Object(r.jsx)(q,{style:{minWidth:"3em",marginRight:"2em"},onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"go",option:!0}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)("span",{children:"\uace0"})}),Object(r.jsx)(q,{onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"go",option:!1}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)("span",{children:"\uc2a4\ud1b1"})})]})]}))):a.flags.shaking?(R(!0),_(Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{className:"font-black text-xl text-gray-800 mb-3",children:"\ud754\ub4dc\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),Object(r.jsxs)("div",{className:"flex justify-center",children:[Object(r.jsx)(q,{style:{minWidth:"3em",marginRight:"2em"},onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"shaking",option:!0}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)("span",{children:"\ub124"})}),Object(r.jsx)(q,{onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"shaking",option:!1}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)("span",{children:"\uc544\ub2c8\uc694"})})]})]}))):a.flags.select_match?(R(!0),_(Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{className:"font-black text-xl text-gray-800 mb-3",children:"\uac00\uc838\uc62c \ud328\ub97c \uace8\ub77c\uc8fc\uc138\uc694."}),Object(r.jsx)("div",{style:{maxWidth:"calc(80% + 2em)",margin:"auto",marginTop:"2em"},children:Object(r.jsxs)("div",{className:"flex justify-between",style:{maxWidth:"14em",margin:"auto"},children:[Object(r.jsx)(T,{card:a.actions[0].match,style:{maxWidth:"6em",width:"40%"},onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"select match",match:a.actions[0].match}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)})))}),Object(r.jsx)(T,{card:a.actions[1].match,style:{maxWidth:"6em",width:"40%"},onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"select match",match:a.actions[1].match}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)})))})]})})]}))):a.flags.move_animal_9?(R(!0),_(Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{className:"font-black text-xl text-gray-800 mb-3",children:"9\uc6d4 \uc5f4\ub057\uc744 \uc30d\ud53c\ub85c \uc62e\uae38\uae4c\uc694?"}),Object(r.jsxs)("div",{className:"flex justify-center",children:[Object(r.jsx)(q,{style:{minWidth:"3em",marginRight:"2em"},onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"move animal 9",option:!0}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)("span",{children:"\ub124"})}),Object(r.jsx)(q,{onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"move animal 9",option:!1}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)("span",{children:"\uc544\ub2c8\uc694"})})]})]}))):a.flags.four_of_a_month&&(R(!0),_(Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{className:"font-black text-xl text-gray-800 mb-3",children:"\ucd1d\ud1b5\uc73c\ub85c \uac8c\uc784\uc744 \ub05d\ub0bc\uae4c\uc694?"}),Object(r.jsxs)("div",{className:"flex justify-center",children:[Object(r.jsx)(q,{style:{minWidth:"3em",marginRight:"2em"},onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"four of a month",option:!0}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)("span",{children:"\ub124"})}),Object(r.jsx)(q,{onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("play",{client:s,action:{kind:"four of a month",option:!1}}),e.next=3,v("play response");case 3:(t=e.sent).success?(n(t.result),R(!1)):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)("span",{children:"\uc544\ub2c8\uc694"})})]})]})));case 9:case"end":return e.stop()}}),e)}))),[p,a,n]);var F=null===a||void 0===a?void 0:a.players.findIndex((function(e){return e===s}));return null===a?Object(r.jsx)("div",{className:"w-full h-full",children:Object(r.jsx)(N.BlockLoading,{})}):Object(r.jsxs)("div",{className:"w-full h-full",children:[Object(r.jsx)("div",{className:"fixed z-50",children:Object(r.jsx)(q,{size:"sm",onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:if(s){e.next=4;break}return e.abrupt("return");case 4:return p.emit("end game",{client:s}),e.next=7,v("end game response");case 7:(t=e.sent).success||console.error(t.error);case 9:case"end":return e.stop()}}),e)}))),children:"End Game"})}),Object(r.jsx)("div",{className:"fixed z-30 right-0 top-0",children:Object(r.jsx)(C,{onClick:function(){x((function(e){return!e}))},children:b?Object(r.jsx)(A.a,{}):Object(r.jsx)(L.a,{})})}),b&&Object(r.jsx)("div",{className:"fixed right-0 top-0 text-xs max-w-md overflow-y-auto z-20 bg-white bg-opacity-75 p-4 rounded-xl",style:{maxHeight:"10rem"},children:Object(r.jsx)("pre",{className:"max-w-md break-all whitespace-pre-wrap",children:a.logs.join("\n")})}),Object(r.jsx)(re,Object(i.a)({game:a,player:-1===F?null:F,clientId:s,updateGame:n},o)),w&&Object(r.jsx)("div",{className:"w-full h-full flex place-items-center fixed z-10 top-0 left-0",style:{backgroundColor:"rgba(0, 0, 0, 0.45)"},children:Object(r.jsx)("div",{className:"p-8 bg-white rounded-2xl w-2/3 text-center m-auto",children:z})})]})})),ae=Object(h.connect)((function(e){return e}),x)((function(e){var t,n=e.match,c=e.rooms,a=e.clientId,s=e.updateClientId,i=e.roomId,o=e.history,u=e.updateRoomId,h=null!==(t=null===c||void 0===c?void 0:c.find((function(e){return e.id===n.params.roomId})))&&void 0!==t?t:null;return null===c?Object(r.jsx)(z,{children:Object(r.jsx)(N.BlockLoading,{})}):h?h.gameStarted?Object(r.jsx)(ce,{id:n.params.roomId}):Object(r.jsxs)(z,{children:[Object(r.jsx)(_,{children:Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)(F,{className:"w-64 my-1",placeholder:"Client ID",value:null!==a&&void 0!==a?a:"",onChange:function(e){s(e.target.value)}}),i!==n.params.roomId&&Object(r.jsx)(C,{className:"ml-4",onClick:D({history:o,clientId:a,roomId:i,rooms:c,updateRoomId:u},!1),children:Object(r.jsx)(W.a,{})})]})}),Object(r.jsxs)("main",{children:[Object(r.jsxs)("h2",{className:"p-4 font-bold text-3xl text-gray-800 inline-flex",children:["Room ",n.params.roomId,i===n.params.roomId&&a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C,{onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("start game",{client:a}),e.next=3,v("start game response");case 3:(t=e.sent).success||console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),className:"ml-4",children:Object(r.jsx)(S.a,{})}),Object(r.jsx)(C,{onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("exit room",{client:a}),e.next=3,v("exit room response");case 3:(t=e.sent).success?setTimeout((function(){o.replace("/")}),300):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),className:"ml-4",children:Object(r.jsx)(W.b,{})})]}),i!==n.params.roomId&&a&&Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(C,{onClick:Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g("join room",{client:a,room:n.params.roomId}),e.next=3,v("join room response");case 3:(t=e.sent).success?u(h.id):console.error(t.error);case 5:case"end":return e.stop()}}),e)}))),className:"ml-4",children:Object(r.jsx)(W.a,{})})})]}),Object(r.jsxs)(H.Wrapper,{children:[Object(r.jsx)(H.Head,{children:Object(r.jsx)(H.Row,{children:Object(r.jsx)(H.Header,{children:"Player ID"})})}),Object(r.jsx)(H.Body,{children:null===c?Object(r.jsx)(H.Row,{children:Object(r.jsx)(H.Data,{className:"w-full",colSpan:3,children:Object(r.jsx)("div",{className:"h-24 relative",children:Object(r.jsx)(N.BlockLoading,{})})})}):c.find((function(e){return e.id===n.params.roomId})).players.map((function(e){return Object(r.jsx)(H.Row,{children:Object(r.jsx)(H.Data,{className:"w-1/2",children:Object(r.jsx)("span",{className:"text-gray-700 px-6 py-3 flex items-center",children:e})})},e)}))})]})]})]}):Object(r.jsx)(j.a,{to:"/"})})),se=n(66),ie=Object(h.connect)((function(e){return e}),x)((function(e){var t=e.history,n=e.clientId,c=e.roomId,a=e.rooms,s=e.updateRoomId,i=e.updateClientId;return m()(D({history:t,clientId:n,roomId:c,rooms:a,updateRoomId:s},!0),[c,n,t,a,s]),Object(r.jsxs)(z,{children:[Object(r.jsx)(_,{children:Object(r.jsxs)("div",{className:"flex",children:[Object(r.jsx)(F,{className:"w-64 my-1",placeholder:"Client ID",value:null!==n&&void 0!==n?n:"",onChange:function(e){i(e.target.value)}}),Object(r.jsx)(C,{className:"ml-4",onClick:D({history:t,clientId:n,roomId:c,rooms:a,updateRoomId:s},!1),children:Object(r.jsx)(W.a,{})})]})}),Object(r.jsxs)("main",{children:[Object(r.jsx)("h2",{className:"p-4 font-bold text-3xl text-gray-800",children:"Rooms"}),Object(r.jsxs)(H.Wrapper,{children:[Object(r.jsx)(H.Head,{children:Object(r.jsxs)(H.Row,{children:[Object(r.jsx)(H.Header,{children:"Room ID"}),Object(r.jsx)(H.Header,{children:"# of Players"}),Object(r.jsx)(H.Header,{})]})}),Object(r.jsxs)(H.Body,{children:[null===a?Object(r.jsx)(H.Row,{children:Object(r.jsx)(H.Data,{className:"w-full",colSpan:3,children:Object(r.jsx)("div",{className:"h-24 relative",children:Object(r.jsx)(N.BlockLoading,{})})})}):a.map((function(e){return Object(r.jsxs)(H.Row,{children:[Object(r.jsx)(H.Data,{className:"w-1/2",children:Object(r.jsx)("span",{className:"text-gray-700 px-6 py-3 flex items-center",children:e.id})}),Object(r.jsx)(H.Data,{className:"w-1/4",children:Object(r.jsxs)("span",{className:"text-gray-700 px-6 py-3 flex items-center",children:[e.players.length,"/2"]})}),Object(r.jsxs)(H.Data,{className:"p-2 flex justify-end",children:[Object(r.jsx)(C,{onClick:Object(d.a)(l.a.mark((function r(){var a;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!c){r.next=2;break}return r.abrupt("return");case 2:if(n){r.next=4;break}return r.abrupt("return");case 4:return g("join room",{client:n,room:e.id}),r.next=7,v("join room response");case 7:(a=r.sent).success?(s(e.id),t.push("/rooms/".concat(e.id))):console.error(a.error);case 9:case"end":return r.stop()}}),r)}))),children:Object(r.jsx)(W.a,{})}),Object(r.jsx)(C,{onClick:function(){t.push("/rooms/".concat(e.id))},children:Object(r.jsx)(se.a,{})})]})]},e.id)})),Object(r.jsx)(H.Row,{children:Object(r.jsx)(H.Data,{className:"w-full",colSpan:3,children:Object(r.jsx)("div",{className:"h-24 flex items-center justify-center",children:Object(r.jsx)("button",{className:"w-40 bg-white tracking-wide text-gray-800 font-bold rounded border-b-2 border-blue-500 hover:border-blue-600 hover:bg-blue-500 hover:text-white shadow-md py-2 px-6 inline-flex items-center m-auto",onClick:Object(d.a)(l.a.mark((function e(){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return g("make room",{client:n}),e.next=5,v("make room response");case 5:(r=e.sent).success?(s(r.result.id),setTimeout((function(){t.push("/rooms/".concat(r.result.id))}),200)):console.error(r.error);case 7:case"end":return e.stop()}}),e)}))),children:Object(r.jsx)("span",{className:"mx-auto",children:"Make a room"})})})})})]})]})]})]})}));function oe(e,t){if(!e)throw new Error(t)}var le=Object(h.connect)((function(e){return e}),x)((function(){return Object(r.jsx)(z,{children:Object(r.jsx)("div",{className:"flex w-full h-screen text-center place-items-center place-content-center",children:Object(r.jsx)("span",{className:"text-gray-500 font-bold",style:{fontSize:"10em"},children:"\u2204"})})})})),de=Object(h.connect)((function(e){return e}),x)((function(e){var t=e.clientId,n=e.updateClientId,a=e.updateRoomId,s=e.updateRooms;return m()(Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v("connect response");case 4:if((t=e.sent).success)try{oe(t.message.split(" ")[1].slice(0,-1)===p.id),console.log("connected!")}catch(n){console.error("Socket id does not match")}case 6:case"end":return e.stop()}}),e)}))),[p.connected]),Object(c.useEffect)((function(){var e;n(null!==(e=localStorage.getItem("clientId"))&&void 0!==e?e:"")}),[n]),m()(Object(d.a)(l.a.mark((function e(){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return g("my room",{client:t}),e.next=5,v("my room response");case 5:(n=e.sent).success?a(null!==(r=null===(c=n.result)||void 0===c?void 0:c.id)&&void 0!==r?r:null):console.error(n.error);case 7:case"end":return e.stop()}}),e)}))),[t]),Object(c.useEffect)((function(){g("list rooms",{});var e=function(e){e.success&&s(e.result)};return y("list rooms response",e),function(){k("list rooms response",e)}}),[s]),Object(r.jsx)(u.a,{children:Object(r.jsxs)(j.d,{children:[Object(r.jsx)(j.b,{path:"/rooms/:roomId",component:ae}),Object(r.jsx)(j.b,{path:"/rooms",render:function(){return Object(r.jsx)(j.a,{to:"/"})}}),Object(r.jsx)(j.b,{exact:!0,path:"/",render:function(e){return Object(r.jsx)(ie,Object(i.a)({},e))}}),Object(r.jsx)(j.b,{path:"/",render:function(e){return Object(r.jsx)(le,Object(i.a)({},e))}})]})})})),ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,146)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},je=n(67),he=n.n(je)()({clientId:null,rooms:null,roomId:null,game:null});s.a.render(Object(r.jsx)(h.Provider,{store:he,children:Object(r.jsx)(de,{})}),document.getElementById("root")),ue()},75:function(e,t,n){}},[[145,1,2]]]);
//# sourceMappingURL=main.17a44086.chunk.js.map