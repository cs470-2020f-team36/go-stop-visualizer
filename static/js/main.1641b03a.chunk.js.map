{"version":3,"sources":["actions.ts","socket.ts","utils/server.ts","components/IconButton.tsx","components/Layout.tsx","components/Header.tsx","components/TextInput.tsx","hooks/index.ts","components/Table.tsx","utils/card.ts","utils/game.ts","components/CardButton.tsx","components/TextButton.tsx","components/GoStop.tsx","components/RoomGameStarted.tsx","pages/Rooms.tsx","pages/Main.tsx","utils/test.ts","pages/NotFound.tsx","App.tsx","reportWebVitals.ts","store.ts","index.tsx"],"names":["actions","store","updateClientId","state","clientId","localStorage","setItem","updateRooms","rooms","updateRoomId","roomId","updateGame","game","socket","io","emitToServer","id","data","a","emit","getServerResponse","Promise","resolve","once","attachServerListener","cb","on","removeServerListener","off","mapIconBaseSize","sm","base","lg","IconButton","props","size","restProps","className","Layout","children","Header","TextInput","goToMyRoom","onlyIfGameStarted","history","addToast","find","room","gameStarted","push","appearance","autoDismiss","client","myRoomMessage","success","result","error","Table","Wrapper","Head","Body","Row","Data","cardToImageSrc","card","startsWith","cardNameKo","parseInt","substring","month","ribbon","includes","index","multiple","hiddenHand","player","len","board","hands","length","shown","filter","shaking_histories","flat","Array","fill","CardButton","anchorBottom","hoverEnabled","title","alt","src","style","borderRadius","xs","xl","TextButton","GameEnded","involved","players","useToasts","backgroundColor","winner","scores","kind","arg","go_histories","score_factors","map","factor","Math","pow","x","join","onClick","endGameMessage","startGameMessage","GoStopField","BASE_HEIGHT","windowSize","useState","width","height","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","ratio","min","bottom","top","padding","hand","turn","name","captureField","capture_fields","animal9Moved","animal_9_moved","score","go","stacking","stacking_histories","shaking","centerField","center_field","mine","GoStopNameCard","marginRight","fontSize","lineHeight","textAlign","position","GoStopScoreCard","marginLeft","fontFamily","whiteSpace","transform","GoStopCard","w","h","objectPosition","objectFit","GoStopHand","gap","color","minWidth","i","action","undefined","margin","playMessage","GoStopCaptureField","brightCards","animalCards","isGodoriMade","animalScore","max","ribbonCards","isRedRibbonMade","isPlantRibbonMade","isBlueRibbonMade","ribbonScore","junkCards","junkScore","reduce","b","pile","sizeOfChunk","number","isScore","GoStopCaptureFieldPile","horizontalGap","verticalGap","numberOfChunks","ceil","wrapperWidth","wrapperHeight","last","left","floor","border","fontWeight","GoStopCenterField","field","GoStopCenterFieldItem","gapRatio","GoStop","routeComponentProps","ended","connect","s","listener","message","isMyTurn","showLogs","setShowLogs","showDialog","setShowDialog","dialogContent","setDialogContent","useAsyncEffect","Object","values","flags","some","v","option","select_match","maxWidth","marginTop","match","move_animal_9","four_of_a_month","findIndex","p","maxHeight","logs","params","placeholder","value","onChange","event","target","exitRoomMessage","setTimeout","replace","joinRoomMessage","colSpan","to","newRoomId","assert","condition","errorMessage","Error","welcomeMessage","split","slice","console","log","connected","getItem","listRoomsListener","path","component","Rooms","render","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","createStore","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1641b03a.chunk.js","sourcesContent":["import Store from \"redux-zero/interfaces/Store\";\nimport { AppState } from \"./store\";\nimport { Game } from \"./types/game\";\nimport { Room } from \"./types/server\";\n\nconst updateClientId = (store: Store<AppState>) => (\n  state: AppState,\n  clientId: string\n) => {\n  localStorage.setItem(\"clientId\", clientId);\n  return { clientId } as Partial<AppState>;\n};\nconst updateRooms = (store: Store<AppState>) => (\n  state: AppState,\n  rooms: Room[]\n) => {\n  return { rooms } as Partial<AppState>;\n};\nconst updateRoomId = (store: Store<AppState>) => (\n  state: AppState,\n  roomId: string | null\n) => {\n  return { roomId } as Partial<AppState>;\n};\nconst updateGame = (store: Store<AppState>) => (\n  state: AppState,\n  game: Game | null\n) => {\n  return { game } as Partial<AppState>;\n};\ntype Voidify<T> = T extends (...params: infer R) => unknown\n  ? (...params: R) => void\n  : never;\ntype ActionsType = {\n  updateClientId: Voidify<ReturnType<typeof updateClientId>>;\n  updateRooms: Voidify<ReturnType<typeof updateRooms>>;\n  updateRoomId: Voidify<ReturnType<typeof updateRoomId>>;\n  updateGame: Voidify<ReturnType<typeof updateGame>>;\n};\n\nconst actions: (store: Store<AppState>) => ActionsType = (store) => ({\n  updateClientId: updateClientId(store),\n  updateRooms: updateRooms(store),\n  updateRoomId: updateRoomId(store),\n  updateGame: updateGame(store),\n});\n\ntype ConsumeState<T> = T extends (g: any, ...args: infer V) => infer W\n  ? (...args: V) => W\n  : unknown;\n\nexport type ActionTypes = {\n  [key in keyof ReturnType<typeof actions>]: ConsumeState<\n    ReturnType<typeof actions>[key]\n  >;\n};\n\nexport default actions;\n","import io from \"socket.io-client\";\n\nconst SERVER_URL = \"https://cs470-go-stop.herokuapp.com/\";\nexport const socket = io(SERVER_URL);\n","import { socket } from \"../socket\";\nimport { Message, Result } from \"../types/server\";\n\nexport async function emitToServer<T extends keyof Message>(\n  id: T,\n  data: Message[T]\n) {\n  socket.emit(id, data);\n}\n\nexport async function getServerResponse<T extends keyof Message>(\n  id: T\n): Promise<Result<Message[T]>> {\n  return new Promise((resolve) => {\n    socket.once(id, (data: Result<Message[T]>) => {\n      resolve(data);\n    });\n  });\n}\n\nexport function attachServerListener<T extends keyof Message>(\n  id: T,\n  cb: (data: Result<Message[T]>) => void\n) {\n  socket.on(id, cb);\n}\n\nexport function removeServerListener<T extends keyof Message>(\n  id: T,\n  cb?: (data: Result<Message[T]>) => void\n) {\n  socket.off(id, cb);\n}\n","import React from \"react\";\n\nconst mapIconBaseSize = {\n  sm: \"text-xl\",\n  base: \"text-2xl\",\n  lg: \"text-4xl\",\n};\n\ntype IconButtonProps = {\n  size?: keyof typeof mapIconBaseSize;\n  onClick?: React.MouseEventHandler;\n  className?: string;\n  style?: React.CSSProperties;\n};\n\nconst IconButton: React.FC<IconButtonProps> = (props) => {\n  const { size = \"base\", ...restProps } = props;\n  return (\n    <button\n      {...restProps}\n      className={`flex items-center justify-center p-3 rounded-full\n        disabled:bg-transparent hover:bg-gray-300 active:bg-gray-400 focus:bg-gray-400 \n        disabled:opacity-50 disabled:cursor-not-allowed \n        focus:outline-none focus:shadow-outline ${mapIconBaseSize[size]} ${\n        props.className ?? \"\"\n      }`}\n    />\n  );\n};\n\nexport default IconButton;\n","import React from \"react\";\n\nconst Layout: React.FC = ({ children }) => (\n  <div className=\"w-full bg-gray-200 min-h-full\">\n    <div className=\"max-w-4xl mx-auto text-gray-900 h-full\">{children} </div>\n  </div>\n);\n\nexport default Layout;\n","import React from \"react\";\n\nconst Header: React.FC = ({ children }) => (\n  <header className=\"p-4\">{children}</header>\n);\n\nexport default Header;\n","import React from \"react\";\n\ntype TextInputProps = {\n  onChange?: React.ChangeEventHandler<HTMLInputElement>;\n  className?: string;\n  style?: React.CSSProperties;\n  value?: string | number | readonly string[];\n  placeholder?: string;\n};\n\nconst TextInput: React.FC<TextInputProps> = (props) => {\n  return (\n    <input\n      {...props}\n      className={`shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline ${props.className}`}\n    />\n  );\n};\n\nexport default TextInput;\n","import { useState, useEffect } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { AddToast } from \"react-toast-notifications\";\nimport { ActionTypes } from \"../actions\";\nimport { AppState } from \"../store\";\nimport { emitToServer, getServerResponse } from \"../utils/server\";\n\ntype GoToMyRoomProps = Pick<RouteComponentProps, \"history\"> &\n  Pick<AppState, \"clientId\" | \"roomId\" | \"rooms\"> &\n  Pick<ActionTypes, \"updateRoomId\"> & {\n    addToast: AddToast\n  };\n\nexport const goToMyRoom = (\n  { history, clientId, roomId, rooms, updateRoomId, addToast }: GoToMyRoomProps,\n  onlyIfGameStarted: boolean\n) => async () => {\n  if (roomId && rooms?.find((room) => room.id === roomId)?.gameStarted) {\n    history.push(`/rooms/${roomId}`);\n    addToast(\"There is a game going on.\", {\n      appearance: \"info\",\n      autoDismiss: true,\n    });\n    return;\n  }\n\n  if (!clientId) return;\n\n  emitToServer(\"my room\", { client: clientId });\n\n  const myRoomMessage = await getServerResponse(\"my room response\");\n  if (myRoomMessage.success) {\n    updateRoomId(myRoomMessage.result?.id ?? null);\n\n    if (\n      myRoomMessage.result?.id &&\n      (myRoomMessage.result?.gameStarted || !onlyIfGameStarted)\n    ) {\n      history.push(`/rooms/${myRoomMessage.result?.id}`);\n    }\n  } else {\n    addToast(myRoomMessage.error, {\n      appearance: \"info\",\n      autoDismiss: true,\n    });\n  }\n};\n\nexport function useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: 32,\n    height: 32,\n  });\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowSize;\n}\n","import React from \"react\";\n\nconst Wrapper: React.FC = ({ children }) => (\n  <div className=\"overflow-x-auto bg-white rounded-lg shadow max-w-4xl m-auto box-content mx-4\">\n    <table className=\"border-collapse table-auto w-full whitespace-no-wrap bg-white table-striped relative\">\n      {children}\n    </table>\n  </div>\n);\nconst Head: React.FC = ({ children }) => <thead>{children}</thead>;\nconst Body: React.FC = ({ children }) => <tbody>{children}</tbody>;\nconst Row: React.FC<React.DetailedHTMLProps<\n  React.HTMLAttributes<HTMLTableRowElement>,\n  HTMLTableRowElement\n>> = ({ children, ...props }) => (\n  <tr {...props} className={`text-left ${props.className ?? \"\"}`}>\n    {children}\n  </tr>\n);\nconst Data: React.FC<React.DetailedHTMLProps<\n  React.TdHTMLAttributes<HTMLTableDataCellElement>,\n  HTMLTableDataCellElement\n>> = ({ children, ...props }) => (\n  <td\n    {...props}\n    className={`border-dashed border-t border-gray-200 ${\n      props.className ?? \"\"\n    }`}\n  >\n    {children}\n  </td>\n);\nconst Header: React.FC<React.DetailedHTMLProps<\n  React.ThHTMLAttributes<HTMLTableHeaderCellElement>,\n  HTMLTableHeaderCellElement\n>> = ({ children, ...props }) => (\n  <th\n    {...props}\n    className={`py-2 px-3 sticky top-0 border-b text-gray-700 border-gray-200 bg-gray-100 ${\n      props.className ?? \"\"\n    }`}\n  >\n    {children}\n  </th>\n);\n\nconst Table = {\n  Wrapper,\n  Head,\n  Body,\n  Row,\n  Data,\n  Header,\n};\n\nexport default Table;\n","import { Card } from \"../types/game\";\n\nexport function cardToImageSrc(card: Card) {\n  return `/images/cards/${\n    card.startsWith(\"?\")\n      ? \"hidden\"\n      : card.startsWith(\"*\")\n      ? \"bomb\"\n      : card.startsWith(\"+\")\n      ? `bonus${card[1]}`\n      : card\n  }.png`;\n}\n\nexport function cardNameKo(card: Card) {\n  if (card.startsWith(\"B\")) {\n    return `${parseInt(card.substring(1))}월 광`;\n  }\n  if (card.startsWith(\"A\")) {\n    return `${parseInt(card.substring(1))}월 열끗`;\n  }\n  if (card.startsWith(\"R\")) {\n    const month = parseInt(card.substring(1));\n    const ribbon = [1, 2, 3].includes(month)\n      ? \"홍\"\n      : [4, 5, 7].includes(month)\n      ? \"초\"\n      : [6, 9, 10].includes(month)\n      ? \"청\"\n      : null;\n    return `${month}월 띠${!ribbon ? \"\" : ` (${ribbon}단)`}`;\n  }\n  if (card.startsWith(\"J\")) {\n    const month = parseInt(card.substring(1, 3));\n    const index = parseInt(card.substring(3));\n    const multiple = index === 2 || month === 12 ? 2 : 1;\n    return `${month}월 ${multiple === 2 ? \"쌍\" : \"\"}피${\n      multiple === 2 ? \"\" : ` (${index})`\n    }`;\n  }\n  if (card.startsWith(\"+\")) {\n    const multiple = parseInt(card.substring(1));\n    return `보너스 ${multiple === 2 ? \"쌍\" : \"쓰리\"}피`;\n  }\n  if (card.startsWith(\"*\")) {\n    const index = parseInt(card.substring(1));\n    return `폭탄 (${index})`;\n  }\n  return \"숨겨진 패\";\n}\n","import { Card, Game } from \"../types/game\";\n\nexport function hiddenHand(game: Game, player: 0 | 1): Card[] {\n  const len = game.board.hands[player].length;\n  const shown = game.board.hands[player].filter(\n    (card) =>\n      card.startsWith(\"*\") ||\n      game.state.shaking_histories[player].flat().includes(card)\n  );\n  return [...shown, ...Array(len - shown.length).fill(\"?\")];\n}\n","import React from \"react\";\nimport { Card } from \"../types/game\";\nimport { cardToImageSrc } from \"../utils/card\";\n\nimport \"./CardButton.css\";\n\ntype CardButtonProps = {\n  card?: Card;\n  onClick?: React.MouseEventHandler;\n  className?: string;\n  title?: string;\n  style?: React.CSSProperties;\n  anchorBottom?: boolean;\n  hoverEnabled?: boolean;\n};\n\nconst CardButton: React.FC<CardButtonProps> = (props) => {\n  const {\n    card = \"?\",\n    anchorBottom = false,\n    hoverEnabled = true,\n    title,\n    children,\n    ...restProps\n  } = props;\n  return (\n    <button\n      {...restProps}\n      className={`${hoverEnabled ? \"card-button\" : \"\"} ${\n        props.className ?? \"\"\n      } ${anchorBottom ? \"anchor-bottom\" : \"\"} ${\n        !hoverEnabled ? \"cursor-default\" : \"\"\n      }`}\n    >\n      <img\n        title={title}\n        alt={title}\n        src={cardToImageSrc(card)}\n        className=\"w-full h-full\"\n        style={{\n          borderRadius: 4,\n        }}\n      />\n    </button>\n  );\n};\n\nexport default CardButton;\n","import React from \"react\";\n\nconst mapIconBaseSize = {\n  xs: \"text-xs\",\n  sm: \"text-sm\",\n  base: \"text-base\",\n  lg: \"text-lg\",\n  xl: \"text-xl\",\n  \"2xl\": \"text-2xl\",\n};\n\ntype TextButtonProps = {\n  size?: keyof typeof mapIconBaseSize;\n  onClick?: React.MouseEventHandler;\n  className?: string;\n  style?: React.CSSProperties;\n};\n\nconst TextButton: React.FC<TextButtonProps> = (props) => {\n  const { size = \"base\", ...restProps } = props;\n  return (\n    <button\n      {...restProps}\n      className={`flex items-center justify-center p-3 rounded-full\n        disabled:bg-transparent hover:bg-gray-300 active:bg-gray-400 focus:bg-gray-400 \n        disabled:opacity-50 disabled:cursor-not-allowed \n        focus:outline-none focus:shadow-outline ${mapIconBaseSize[size]} ${\n        props.className ?? \"\"\n      }`}\n    />\n  );\n};\n\nexport default TextButton;\n","import React from \"react\";\nimport { GoTriangleRight } from \"react-icons/go\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { useWindowSize } from \"../hooks\";\nimport { socket } from \"../socket\";\nimport { Card, Game, GameAction } from \"../types/game\";\nimport { cardNameKo, cardToImageSrc } from \"../utils/card\";\nimport { hiddenHand } from \"../utils/game\";\nimport { emitToServer, getServerResponse } from \"../utils/server\";\nimport CardButton from \"./CardButton\";\nimport TextButton from \"./TextButton\";\n\nconst GoStop: React.FC<\n  RouteComponentProps & {\n    game: Game;\n    player: 0 | 1 | null;\n    clientId: string | null;\n    updateGame: (game: Game | null) => void;\n  }\n> = ({ game, player, clientId, updateGame, ...routeComponentProps }) => {\n  return (\n    <div\n      className=\"w-full h-full flex place-items-center\"\n      style={{\n        backgroundColor: \"#3B7157\",\n      }}\n    >\n      <GoStopField game={game} player={player} clientId={clientId} />\n      {game.state.ended ? (\n        <GameEnded\n          game={game}\n          player={player}\n          clientId={clientId}\n          updateGame={updateGame}\n          {...routeComponentProps}\n        />\n      ) : null}\n    </div>\n  );\n};\n\nconst GameEnded: React.FC<\n  RouteComponentProps & {\n    game: Game;\n    player: 0 | 1 | null;\n    clientId: string | null;\n    updateGame: (game: Game | null) => void;\n  }\n> = ({ game, player, clientId, updateGame, history }) => {\n  const involved = !!clientId && game.players.includes(clientId);\n  const { addToast } = useToasts();\n\n  return (\n    <div\n      className=\"w-full h-full flex place-items-center fixed z-10 top-0 left-0\"\n      style={{\n        backgroundColor: \"rgba(0, 0, 0, 0.45)\",\n      }}\n    >\n      <div className=\"p-8 bg-white rounded-2xl w-2/3 text-center m-auto\">\n        <h2 className=\"font-black text-3xl text-gray-800 mb-3\">\n          {game.state.winner === null\n            ? \"🤔 나가리\"\n            : game.state.winner === player\n            ? \"🌟 승리!\"\n            : 1 - game.state.winner === player\n            ? \"😥 패배...\"\n            : `🏆 ${game.players[game.state.winner]}의 승리!`}\n        </h2>\n        <p>\n          <span className=\"text-xl text-gray-800\">\n            {game.state.winner === null ? null : (\n              <>\n                총{\" \"}\n                <span className=\"font-bold\">\n                  {game.state.scores[game.state.winner]}\n                </span>\n                점\n              </>\n            )}\n          </span>\n        </p>\n        <p>\n          <span className=\"text-md text-gray-800\">\n            {game.state.winner === null\n              ? null\n              : [\n                  {\n                    kind: \"go-add\",\n                    arg: game.state.go_histories[game.state.winner].length,\n                  },\n                  ...game.state.score_factors[game.state.winner],\n                ]\n                  .map((factor) =>\n                    factor.kind === \"go-add\"\n                      ? factor.arg === 0\n                        ? null\n                        : `고 ${factor.arg}점`\n                      : factor.kind === \"go\"\n                      ? factor.arg <= 2\n                        ? null\n                        : `고 ${Math.pow(2, factor.arg - 2)}배`\n                      : factor.kind === \"bright\"\n                      ? factor.arg === 0\n                        ? null\n                        : `광 ${factor.arg}점`\n                      : factor.kind === \"animal\"\n                      ? factor.arg < 5\n                        ? null\n                        : `열끗 ${factor.arg - 4}점`\n                      : factor.kind === \"ribbon\"\n                      ? factor.arg < 5\n                        ? null\n                        : `단 ${factor.arg - 4}점`\n                      : factor.kind === \"junk\"\n                      ? factor.arg < 10\n                        ? null\n                        : `피 ${factor.arg - 9}점`\n                      : factor.kind === \"five birds\"\n                      ? `고도리 5점`\n                      : factor.kind === \"red ribbons\"\n                      ? `홍단 3점`\n                      : factor.kind === \"blue ribbons\"\n                      ? `청단 3점`\n                      : factor.kind === \"plant ribbons\"\n                      ? `초단 3점`\n                      : factor.kind === \"shaking\"\n                      ? factor.arg === 0\n                        ? null\n                        : `흔들기 ${Math.pow(2, factor.arg)}배`\n                      : factor.kind === \"bright penalty\"\n                      ? `광박 2배`\n                      : factor.kind === \"animal penalty\"\n                      ? `멍따 2배`\n                      : factor.kind === \"junk penalty\"\n                      ? `피박 2배`\n                      : factor.kind === \"go penalty\"\n                      ? `고박 2배`\n                      : factor.kind === \"four of a month\"\n                      ? `총통 10점`\n                      : `쓰리뻑 10점`\n                  )\n                  .filter((x) => x !== null)\n                  .join(\", \")}\n          </span>\n        </p>\n        <p>\n          {involved ? (\n            <>\n              <TextButton\n                className=\"m-auto mt-4\"\n                onClick={async () => {\n                  if (!socket) return;\n                  if (!clientId) return;\n\n                  updateGame(null);\n\n                  emitToServer(\"end game\", { client: clientId });\n                  const endGameMessage = await getServerResponse(\n                    \"end game response\"\n                  );\n                  if (!endGameMessage.success) {\n                    addToast(endGameMessage.error, {\n                      appearance: \"error\",\n                      autoDismiss: true,\n                    });\n                    return;\n                  }\n\n                  emitToServer(\"start game\", { client: clientId });\n                  const startGameMessage = await getServerResponse(\n                    \"start game response\"\n                  );\n                  if (!startGameMessage.success) {\n                    addToast(startGameMessage.error, {\n                      appearance: \"error\",\n                      autoDismiss: true,\n                    });\n                  }\n                }}\n              >\n                새 게임 하기\n              </TextButton>\n              <TextButton\n                className=\"m-auto mt-4\"\n                onClick={async () => {\n                  if (!socket) return;\n                  if (!clientId) return;\n\n                  updateGame(null);\n\n                  emitToServer(\"end game\", { client: clientId });\n                  const endGameMessage = await getServerResponse(\n                    \"end game response\"\n                  );\n                  if (!endGameMessage.success) {\n                    addToast(endGameMessage.error, {\n                      appearance: \"error\",\n                      autoDismiss: true,\n                    });\n                    return;\n                  }\n\n                  emitToServer(\"start game\", { client: clientId });\n                  const startGameMessage = await getServerResponse(\n                    \"start game response\"\n                  );\n                  if (!startGameMessage.success) {\n                    addToast(startGameMessage.error, {\n                      appearance: \"error\",\n                      autoDismiss: true,\n                    });\n                  }\n                }}\n              >\n                새 게임 하기\n              </TextButton>\n            </>\n          ) : null}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nconst GoStopField: React.FC<{\n  game: Game;\n  player: 0 | 1 | null;\n  clientId: string | null;\n}> = ({ game, player, clientId }) => {\n  const BASE_WIDTH = 1258;\n  const BASE_HEIGHT = 1327 + (player === null ? -53 : 0);\n\n  const windowSize = useWindowSize();\n  const ratio = Math.min(\n    (windowSize.width - 32) / BASE_WIDTH,\n    (windowSize.height - 32) / BASE_HEIGHT\n  );\n  const bottom = player ?? 1;\n  const top = bottom === 0 ? 1 : 0;\n\n  return (\n    <div\n      className=\"m-auto\"\n      style={{\n        width: ratio * BASE_WIDTH + 32,\n        height: ratio * BASE_HEIGHT + 32,\n        padding: 16,\n      }}\n    >\n      <GoStopHand\n        ratio={ratio}\n        hand={hiddenHand(game, top)}\n        clientId={clientId}\n        turn={game.state.player === top}\n      />\n      <div style={{ height: ratio * 32 }} />\n\n      <div className=\"flex justify-center\" style={{ height: ratio * 189 }}>\n        <GoStopNameCard ratio={ratio} name={game.players[top]} />\n        <GoStopCaptureField\n          captureField={game.board.capture_fields[top]}\n          animal9Moved={game.state.animal_9_moved}\n          ratio={ratio}\n        />\n        <GoStopScoreCard\n          ratio={ratio}\n          score={game.state.scores[top]}\n          go={game.state.go_histories[top].length}\n          stacking={game.state.stacking_histories[top].length}\n          shaking={game.state.shaking_histories[top].length}\n        />\n      </div>\n      <div style={{ height: ratio * 96 }} />\n      <GoStopCenterField centerField={game.board.center_field} ratio={ratio} />\n      <div style={{ height: ratio * 96 }} />\n      <div className=\"flex justify-center\" style={{ height: ratio * 189 }}>\n        <GoStopNameCard ratio={ratio} name={game.players[bottom]} />\n        <GoStopCaptureField\n          captureField={game.board.capture_fields[bottom]}\n          animal9Moved={game.state.animal_9_moved}\n          ratio={ratio}\n        />\n        <GoStopScoreCard\n          ratio={ratio}\n          score={game.state.scores[bottom]}\n          go={game.state.go_histories[bottom].length}\n          stacking={game.state.stacking_histories[bottom].length}\n          shaking={game.state.shaking_histories[bottom].length}\n        />\n      </div>\n      <div style={{ height: ratio * 32 }} />\n      <GoStopHand\n        ratio={ratio}\n        hand={\n          player !== null ? game.board.hands[bottom] : hiddenHand(game, bottom)\n        }\n        mine={player !== null}\n        actions={game.state.player === player ? game.actions : []}\n        clientId={clientId}\n        turn={game.state.player === bottom}\n      />\n    </div>\n  );\n};\n\nconst GoStopNameCard: React.FC<{ ratio: number; name: string }> = ({\n  ratio,\n  name,\n}) => (\n  <div\n    style={{\n      width: ratio * 106,\n      marginRight: ratio * 40,\n      height: ratio * 90 * 1.618,\n      fontSize: 24 * ratio,\n      padding: 8 * ratio,\n      lineHeight: 1.1,\n      borderRadius: 8 * ratio,\n      backgroundColor: \"#29604D\",\n      textAlign: \"center\",\n      position: \"relative\",\n    }}\n    className=\"text-white\"\n  >\n    <div\n      style={{\n        height: ratio * 90,\n        backgroundColor: \"white\",\n        borderRadius: 8 * ratio,\n      }}\n    >\n      <img\n        src=\"https://i1.wp.com/similarpng.com/wp-content/plugins/userswp/assets/images/no_profile.png\"\n        style={{\n          width: ratio * 90,\n          height: ratio * 90,\n          borderRadius: 8 * ratio,\n        }}\n        className=\"object-cover object-center\"\n        alt={`${name}의 프로필 이미지`}\n      />\n    </div>\n    <div\n      style={{\n        position: \"absolute\",\n        bottom: 8 * ratio,\n        width: ratio * 90,\n      }}\n      className=\"truncate\"\n    >\n      {name}\n    </div>\n  </div>\n);\n\nconst GoStopScoreCard: React.FC<{\n  ratio: number;\n  score: number;\n  go: number;\n  stacking: number;\n  shaking: number;\n}> = ({ ratio, score, go, stacking, shaking }) => (\n  <div\n    style={{\n      width: ratio * 106,\n      marginLeft: ratio * 40,\n      height: ratio * 90 * 1.618,\n      fontSize: 24 * ratio,\n      padding: 8 * ratio,\n      lineHeight: 1.1,\n      borderRadius: 8 * ratio,\n      backgroundColor: \"#29604D\",\n      fontFamily: \"sans-serif\",\n      textAlign: \"left\",\n    }}\n    className=\"text-white\"\n  >\n    <div\n      style={{\n        fontSize: score > 99999 ? \"1em\" : score > 9999 ? \"1.1em\" : \"1.3em\",\n        textAlign: \"center\",\n        lineHeight: `${48 * ratio}px`,\n        whiteSpace: \"nowrap\",\n        width: \"min-content\",\n        marginLeft: \"50%\",\n        transform: \"translateX(-50%)\",\n        padding: `0 ${8 * ratio}px`,\n        borderRadius: 8 * ratio,\n      }}\n      className=\"font-bold text-right\"\n    >\n      {score}점\n    </div>\n    <div style={{ marginLeft: 15 * ratio, width: 60 * ratio }}>\n      🔥 <span className=\"font-black float-right\">{go}</span>\n    </div>\n    <div style={{ marginLeft: 15 * ratio, width: 60 * ratio }}>\n      💩 <span className=\"font-black float-right\">{stacking}</span>\n    </div>\n    <div style={{ marginLeft: 15 * ratio, width: 60 * ratio }}>\n      🔔 <span className=\"font-black float-right\">{shaking}</span>\n    </div>\n  </div>\n);\n\nconst GoStopCard: React.FC<{\n  card: Card;\n  width?: number;\n  height?: number;\n  alt?: string;\n  title?: string;\n  style?: React.CSSProperties;\n  onClick?: React.MouseEventHandler;\n  className?: string;\n}> = ({\n  card,\n  width: w,\n  height: h,\n  alt,\n  title,\n  style = {},\n  className,\n  onClick,\n}) => {\n  const { width, height } =\n    !w && !h\n      ? { width: 68, height: 105 }\n      : !w && !!h\n      ? { width: (68 / 105) * h, height: h }\n      : !!w && !h\n      ? { width: w, height: (w * 105) / 68 }\n      : { width: w, height: h };\n  return (\n    <img\n      src={cardToImageSrc(card)}\n      style={{\n        width,\n        height,\n        objectPosition: \"center\",\n        objectFit: \"cover\",\n        ...style,\n      }}\n      alt={alt ?? cardNameKo(card)}\n      title={title}\n      className={className}\n      onClick={onClick}\n    />\n  );\n};\n\nconst GoStopHand: React.FC<{\n  hand: Card[];\n  mine?: boolean;\n  actions?: GameAction[];\n  ratio: number;\n  style?: React.CSSProperties;\n  clientId: string | null;\n  turn: boolean;\n}> = ({\n  hand,\n  mine = false,\n  actions = [],\n  ratio,\n  style = {},\n  turn,\n  clientId,\n}) => {\n  const { addToast } = useToasts();\n  const width = mine ? 100 * ratio : 68 * ratio;\n  const height = mine ? 154 * ratio : 105 * ratio;\n  const gap = mine ? 12 * ratio : 8 * ratio;\n  return (\n    <div className=\"flex w-full place-content-center\">\n      <div\n        style={{\n          width: mine ? 54 * ratio : 40 * ratio,\n          height: height + 2 * gap,\n          lineHeight: 1,\n        }}\n        className=\"flex items-center\"\n      >\n        {turn && hand.length > 0 && (\n          <GoTriangleRight\n            size={mine ? 40 * ratio : 32 * ratio}\n            color=\"white\"\n          />\n        )}\n      </div>\n      <div\n        className=\"flex\"\n        style={{\n          padding: gap / 2,\n          backgroundColor: hand.length === 0 ? \"transparent\" : \"#29604D\",\n          borderRadius: 8 * ratio,\n          marginRight: mine ? 54 * ratio : 40 * ratio,\n          minWidth: 16 * ratio + 2 * gap,\n          height: height + 2 * gap,\n          ...style,\n        }}\n      >\n        {hand.map((card, i) => {\n          const action = !mine\n            ? undefined\n            : actions.find(\n                (action) =>\n                  (action.kind === \"throw\" && action.card === card) ||\n                  (action.kind === \"throw bomb\" && card.startsWith(\"*\")) ||\n                  (action.kind === \"bomb\" &&\n                    [\"B\", \"A\", \"R\", \"J\"].includes(card[0]) &&\n                    action.month === parseInt(card.substring(1, 3), 10)) ||\n                  (action.kind === \"shakable\" && action.card === card)\n              );\n          const title = !action\n            ? undefined\n            : action.kind === \"throw\"\n            ? `${cardNameKo(card)} 내기`\n            : action.kind === \"throw bomb\"\n            ? `폭탄 내기`\n            : action.kind === \"bomb\"\n            ? `${action.month}월 폭탄`\n            : `${cardNameKo(card)}로 ${parseInt(\n                card.substring(1, 3),\n                10\n              )}월 흔들기`;\n          return (\n            <CardButton\n              key={i}\n              card={card}\n              style={{\n                width,\n                margin: gap / 2,\n                borderRadius: 4 * ratio,\n              }}\n              title={title}\n              hoverEnabled={mine}\n              anchorBottom\n              className={\n                !mine\n                  ? \"\"\n                  : actions.length === 0\n                  ? \"cursor-not-allowed\"\n                  : \"cursor-pointer\"\n              }\n              onClick={\n                !mine\n                  ? undefined\n                  : async () => {\n                      if (!action) return;\n                      socket.emit(\"play\", { client: clientId, action });\n                      const playMessage = await getServerResponse(\n                        \"play response\"\n                      );\n                      if (!playMessage.success) {\n                        addToast(playMessage.error, {\n                          appearance: \"error\",\n                          autoDismiss: true,\n                        });\n                      }\n                    }\n              }\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst GoStopCaptureField: React.FC<{\n  captureField: Card[];\n  animal9Moved: boolean | null;\n  ratio: number;\n  style?: React.CSSProperties;\n}> = ({ captureField, animal9Moved, ratio, style }) => {\n  const brightCards = captureField.filter((card) => card.startsWith(\"B\"));\n  const animalCards = captureField.filter(\n    (card) => card.startsWith(\"A\") && (!animal9Moved || card !== \"A09\")\n  );\n  const isGodoriMade =\n    animalCards.includes(\"A02\") &&\n    animalCards.includes(\"A04\") &&\n    animalCards.includes(\"A08\");\n  const animalScore =\n    Math.max(animalCards.length - 4, 0) + (isGodoriMade ? 5 : 0);\n  const ribbonCards = captureField.filter((card) => card.startsWith(\"R\"));\n  const isRedRibbonMade =\n    ribbonCards.includes(\"R01\") &&\n    ribbonCards.includes(\"R02\") &&\n    ribbonCards.includes(\"R03\");\n  const isPlantRibbonMade =\n    ribbonCards.includes(\"R04\") &&\n    ribbonCards.includes(\"R05\") &&\n    ribbonCards.includes(\"R07\");\n  const isBlueRibbonMade =\n    ribbonCards.includes(\"R06\") &&\n    ribbonCards.includes(\"R09\") &&\n    ribbonCards.includes(\"R10\");\n  const ribbonScore =\n    Math.max(ribbonCards.length - 4, 0) +\n    (isBlueRibbonMade ? 3 : 0) +\n    (isPlantRibbonMade ? 3 : 0) +\n    (isRedRibbonMade ? 3 : 0);\n\n  const junkCards = captureField.filter(\n    (card) =>\n      card.startsWith(\"J\") ||\n      card.startsWith(\"+\") ||\n      (!!animal9Moved && card === \"A09\")\n  );\n  const junkScore = junkCards\n    .map((card) =>\n      card.startsWith(\"J\")\n        ? card === \"J110\" || card === \"J111\"\n          ? 1\n          : card === \"J120\" || card === \"J112\"\n          ? 2\n          : 1\n        : card === \"A09\"\n        ? 2\n        : card === \"+2\"\n        ? 2\n        : card === \"+3\"\n        ? 3\n        : 0\n    )\n    .reduce((a: number, b: number) => a + b, 0);\n\n  return (\n    <>\n      <GoStopCaptureFieldPile\n        pile={brightCards}\n        sizeOfChunk={5}\n        ratio={ratio}\n        style={{ marginRight: 40 * ratio }}\n        number={\n          brightCards.length < 3\n            ? brightCards.length\n            : brightCards.length === 5\n            ? 15\n            : brightCards.length === 4\n            ? 4\n            : brightCards.includes(\"B12\")\n            ? 2\n            : 3\n        }\n        isScore={brightCards.length >= 3}\n      />\n      <GoStopCaptureFieldPile\n        pile={animalCards}\n        ratio={ratio}\n        style={{ marginRight: 40 * ratio }}\n        number={animalScore > 0 ? animalScore : animalCards.length}\n        isScore={animalScore > 0}\n      />\n      <GoStopCaptureFieldPile\n        pile={ribbonCards}\n        ratio={ratio}\n        style={{ marginRight: 40 * ratio }}\n        number={ribbonScore > 0 ? ribbonScore : ribbonCards.length}\n        isScore={ribbonScore > 0}\n      />\n      <GoStopCaptureFieldPile\n        pile={junkCards}\n        sizeOfChunk={8}\n        ratio={ratio}\n        style={{ marginRight: 40 * ratio }}\n        number={junkScore > 9 ? junkScore - 9 : junkScore}\n        isScore={junkScore > 9}\n      />\n    </>\n  );\n};\n\nconst GoStopCaptureFieldPile: React.FC<{\n  pile: Card[];\n  ratio: number;\n  number: number;\n  isScore: boolean;\n  sizeOfChunk?: number;\n  style?: React.CSSProperties;\n}> = ({ pile, ratio, number, isScore, sizeOfChunk = 3, style = {} }) => {\n  const width = 68 * ratio;\n  const height = 105 * ratio;\n  const horizontalGap = 24 * ratio;\n  const verticalGap = 28 * ratio;\n  const numberOfChunks = Math.ceil(pile.length / sizeOfChunk);\n  const wrapperWidth = width + (sizeOfChunk - 1) * horizontalGap;\n  const wrapperHeight = height + (numberOfChunks - 1) * verticalGap;\n  const last = pile.length - 1;\n  return (\n    <div\n      style={{\n        width: wrapperWidth,\n        height: wrapperHeight,\n        position: \"relative\",\n        ...style,\n      }}\n    >\n      {pile.map((card, i) => (\n        <GoStopCard\n          key={i}\n          card={card}\n          width={width}\n          style={{\n            position: \"absolute\",\n            left: (i % sizeOfChunk) * horizontalGap,\n            top: Math.floor(i / sizeOfChunk) * verticalGap,\n            borderRadius: 4 * ratio,\n          }}\n        />\n      ))}\n      {pile.length === 0 ? null : (\n        <div\n          className=\"absolute\"\n          style={{\n            width: 40 * ratio,\n            height: 40 * ratio,\n            left: (last % sizeOfChunk) * horizontalGap + width - 40 * ratio,\n            top:\n              Math.floor(last / sizeOfChunk) * verticalGap +\n              height -\n              40 * ratio,\n            backgroundColor: \"white\",\n            border: `${4 * ratio}px solid ${isScore ? \"#262C34\" : \"#4f5257\"}`,\n            color: isScore ? \"#262C34\" : \"#65676b\",\n            fontWeight: isScore ? \"bold\" : \"normal\",\n            borderRadius: 8 * ratio,\n            fontSize: 28 * ratio,\n            lineHeight: `${32 * ratio}px`,\n            textAlign: \"center\",\n          }}\n        >\n          {number}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst GoStopCenterField: React.FC<{\n  centerField: Game[\"board\"][\"center_field\"];\n  ratio: number;\n  style?: React.CSSProperties;\n}> = ({ centerField, ratio, style = {} }) => {\n  return (\n    <div className=\"flex\" style={{ height: ratio * 392, ...style }}>\n      <div\n        className=\"flex flex-wrap justify-between\"\n        style={{ height: ratio * 446, width: ratio * 428 }}\n      >\n        <GoStopCenterFieldItem field={centerField[\"1\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"2\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"3\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"7\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"8\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"9\"]} ratio={ratio} />\n      </div>\n      <div\n        className=\"flex justify-center items-center\"\n        style={{ height: ratio * 392, width: ratio * 290 }}\n      >\n        <GoStopCard\n          card=\"?\"\n          width={90 * ratio}\n          style={{ borderRadius: 8 * ratio }}\n        />\n      </div>\n      <div\n        className=\"flex flex-wrap justify-between\"\n        style={{ height: ratio * 446, width: ratio * 428 }}\n      >\n        <GoStopCenterFieldItem field={centerField[\"4\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"5\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"6\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"10\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"11\"]} ratio={ratio} />\n        <GoStopCenterFieldItem field={centerField[\"12\"]} ratio={ratio} />\n      </div>\n    </div>\n  );\n};\nconst GoStopCenterFieldItem: React.FC<{\n  field?: Card[];\n  ratio: number;\n  style?: React.CSSProperties;\n}> = ({ field = [], ratio, style }) => {\n  const gapRatio = field.length <= 3 ? 1 : field.length === 4 ? 2 / 3 : 1 / 2;\n  return (\n    <div\n      className=\"relative\"\n      style={{ height: ratio * 180, width: ratio * 122 }}\n    >\n      {field.map((card, i) => (\n        <GoStopCard\n          key={i}\n          card={card}\n          width={90 * ratio}\n          style={{\n            position: \"absolute\",\n            top: i * 20 * gapRatio * ratio,\n            left: i * 16 * gapRatio * ratio,\n            borderRadius: 8 * ratio,\n          }}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default GoStop;\n","import React, { useEffect, useState } from \"react\";\nimport { connect } from \"redux-zero/react\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { BlockLoading } from \"react-loadingg\";\nimport { MdClose } from \"react-icons/md\";\nimport { IoIosArrowDown } from \"react-icons/io\";\nimport actions, { ActionTypes } from \"../actions\";\nimport { socket } from \"../socket\";\nimport { AppState } from \"../store\";\nimport { GameActionSelectMatch } from \"../types/game\";\nimport { Result, Message } from \"../types/server\";\nimport {\n  attachServerListener,\n  emitToServer,\n  getServerResponse,\n  removeServerListener,\n} from \"../utils/server\";\nimport GoStop from \"./GoStop\";\nimport TextButton from \"./TextButton\";\nimport IconButton from \"./IconButton\";\nimport CardButton from \"./CardButton\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { useToasts } from \"react-toast-notifications\";\n\nconst RoomGameStarted: React.FC<\n  RouteComponentProps & { id: string } & AppState & ActionTypes\n> = ({ id, updateGame, game, clientId, ...routeComponentProps }) => {\n  const { addToast } = useToasts();\n\n  useEffect(() => {\n    const listener = (message: Result<Message[\"spectate game response\"]>) => {\n      if (message.success) {\n        updateGame(message.result);\n      }\n    };\n    emitToServer(\"spectate game\", { room: id });\n    attachServerListener(\"spectate game response\", listener);\n\n    return () => removeServerListener(\"spectate game response\", listener);\n  }, [id, updateGame]);\n\n  const isMyTurn = game && game.players[game.state.player] === clientId;\n  const [showLogs, setShowLogs] = useState(false);\n  const [showDialog, setShowDialog] = useState(false);\n  const [dialogContent, setDialogContent] = useState<React.ReactElement | null>(\n    null\n  );\n\n  useAsyncEffect(async () => {\n    if (!socket) return;\n    if (!game) return;\n    if (!isMyTurn) return;\n    if (!Object.values(game.flags).some((v: boolean) => v)) return;\n\n    if (game.flags.go) {\n      setShowDialog(true);\n      setDialogContent(\n        <>\n          <h2 className=\"font-black text-xl text-gray-800 mb-3\">\n            고 하시겠습니까?\n          </h2>\n          <div className=\"flex justify-center\">\n            <TextButton\n              style={{ minWidth: \"3em\", marginRight: \"2em\" }}\n              onClick={async () => {\n                emitToServer(\"play\", {\n                  client: clientId!,\n                  action: { kind: \"go\", option: true },\n                });\n                const playMessage = await getServerResponse(\"play response\");\n                if (playMessage.success) {\n                  updateGame(playMessage.result);\n                  setShowDialog(false);\n                } else {\n                  addToast(playMessage.error, {\n                    appearance: \"error\",\n                    autoDismiss: true,\n                  });\n                }\n              }}\n            >\n              <span>고</span>\n            </TextButton>\n            <TextButton\n              onClick={async () => {\n                emitToServer(\"play\", {\n                  client: clientId!,\n                  action: { kind: \"go\", option: false },\n                });\n                const playMessage = await getServerResponse(\"play response\");\n                if (playMessage.success) {\n                  updateGame(playMessage.result);\n                  setShowDialog(false);\n                } else {\n                  addToast(playMessage.error, {\n                    appearance: \"error\",\n                    autoDismiss: true,\n                  });\n                }\n              }}\n            >\n              <span>스톱</span>\n            </TextButton>\n          </div>\n        </>\n      );\n    } else if (game.flags.shaking) {\n      setShowDialog(true);\n      setDialogContent(\n        <>\n          <h2 className=\"font-black text-xl text-gray-800 mb-3\">\n            흔드시겠습니까?\n          </h2>\n          <div className=\"flex justify-center\">\n            <TextButton\n              style={{ minWidth: \"3em\", marginRight: \"2em\" }}\n              onClick={async () => {\n                emitToServer(\"play\", {\n                  client: clientId!,\n                  action: { kind: \"shaking\", option: true },\n                });\n                const playMessage = await getServerResponse(\"play response\");\n                if (playMessage.success) {\n                  updateGame(playMessage.result);\n                  setShowDialog(false);\n                } else {\n                  addToast(playMessage.error, {\n                    appearance: \"error\",\n                    autoDismiss: true,\n                  });\n                }\n              }}\n            >\n              <span>네</span>\n            </TextButton>\n            <TextButton\n              onClick={async () => {\n                emitToServer(\"play\", {\n                  client: clientId!,\n                  action: { kind: \"shaking\", option: false },\n                });\n                const playMessage = await getServerResponse(\"play response\");\n                if (playMessage.success) {\n                  updateGame(playMessage.result);\n                  setShowDialog(false);\n                } else {\n                  addToast(playMessage.error, {\n                    appearance: \"error\",\n                    autoDismiss: true,\n                  });\n                }\n              }}\n            >\n              <span>아니요</span>\n            </TextButton>\n          </div>\n        </>\n      );\n    } else if (game.flags.select_match) {\n      setShowDialog(true);\n      setDialogContent(\n        <>\n          <h2 className=\"font-black text-xl text-gray-800 mb-3\">\n            가져올 패를 골라주세요.\n          </h2>\n          <div\n            style={{\n              maxWidth: \"calc(80% + 2em)\",\n              margin: \"auto\",\n              marginTop: \"2em\",\n            }}\n          >\n            <div\n              className=\"flex justify-between\"\n              style={{ maxWidth: \"14em\", margin: \"auto\" }}\n            >\n              <CardButton\n                card={(game.actions[0] as GameActionSelectMatch).match}\n                style={{ maxWidth: \"6em\", width: \"40%\" }}\n                onClick={async () => {\n                  emitToServer(\"play\", {\n                    client: clientId!,\n                    action: {\n                      kind: \"select match\",\n                      match: (game.actions[0] as GameActionSelectMatch).match,\n                    },\n                  });\n                  const playMessage = await getServerResponse(\"play response\");\n                  if (playMessage.success) {\n                    updateGame(playMessage.result);\n                    setShowDialog(false);\n                  } else {\n                    addToast(playMessage.error, {\n                      appearance: \"error\",\n                      autoDismiss: true,\n                    });\n                  }\n                }}\n              />\n              <CardButton\n                card={(game.actions[1] as GameActionSelectMatch).match}\n                style={{ maxWidth: \"6em\", width: \"40%\" }}\n                onClick={async () => {\n                  emitToServer(\"play\", {\n                    client: clientId!,\n                    action: {\n                      kind: \"select match\",\n                      match: (game.actions[1] as GameActionSelectMatch).match,\n                    },\n                  });\n                  const playMessage = await getServerResponse(\"play response\");\n                  if (playMessage.success) {\n                    updateGame(playMessage.result);\n                    setShowDialog(false);\n                  } else {\n                    addToast(playMessage.error, {\n                      appearance: \"error\",\n                      autoDismiss: true,\n                    });\n                  }\n                }}\n              />\n            </div>\n          </div>\n        </>\n      );\n    } else if (game.flags.move_animal_9) {\n      setShowDialog(true);\n      setDialogContent(\n        <>\n          <h2 className=\"font-black text-xl text-gray-800 mb-3\">\n            9월 열끗을 쌍피로 옮길까요?\n          </h2>\n          <div className=\"flex justify-center\">\n            <TextButton\n              style={{ minWidth: \"3em\", marginRight: \"2em\" }}\n              onClick={async () => {\n                emitToServer(\"play\", {\n                  client: clientId!,\n                  action: { kind: \"move animal 9\", option: true },\n                });\n                const playMessage = await getServerResponse(\"play response\");\n                if (playMessage.success) {\n                  updateGame(playMessage.result);\n                  setShowDialog(false);\n                } else {\n                  addToast(playMessage.error, {\n                    appearance: \"error\",\n                    autoDismiss: true,\n                  });\n                }\n              }}\n            >\n              <span>네</span>\n            </TextButton>\n            <TextButton\n              onClick={async () => {\n                emitToServer(\"play\", {\n                  client: clientId!,\n                  action: { kind: \"move animal 9\", option: false },\n                });\n                const playMessage = await getServerResponse(\"play response\");\n                if (playMessage.success) {\n                  updateGame(playMessage.result);\n                  setShowDialog(false);\n                } else {\n                  addToast(playMessage.error, {\n                    appearance: \"error\",\n                    autoDismiss: true,\n                  });\n                }\n              }}\n            >\n              <span>아니요</span>\n            </TextButton>\n          </div>\n        </>\n      );\n    } else if (game.flags.four_of_a_month) {\n      setShowDialog(true);\n      setDialogContent(\n        <>\n          <h2 className=\"font-black text-xl text-gray-800 mb-3\">\n            총통으로 게임을 끝낼까요?\n          </h2>\n          <div className=\"flex justify-center\">\n            <TextButton\n              style={{ minWidth: \"3em\", marginRight: \"2em\" }}\n              onClick={async () => {\n                emitToServer(\"play\", {\n                  client: clientId!,\n                  action: { kind: \"four of a month\", option: true },\n                });\n                const playMessage = await getServerResponse(\"play response\");\n                if (playMessage.success) {\n                  updateGame(playMessage.result);\n                  setShowDialog(false);\n                } else {\n                  addToast(playMessage.error, {\n                    appearance: \"error\",\n                    autoDismiss: true,\n                  });\n                }\n              }}\n            >\n              <span>네</span>\n            </TextButton>\n            <TextButton\n              onClick={async () => {\n                emitToServer(\"play\", {\n                  client: clientId!,\n                  action: { kind: \"four of a month\", option: false },\n                });\n                const playMessage = await getServerResponse(\"play response\");\n                if (playMessage.success) {\n                  updateGame(playMessage.result);\n                  setShowDialog(false);\n                } else {\n                  addToast(playMessage.error, {\n                    appearance: \"error\",\n                    autoDismiss: true,\n                  });\n                }\n              }}\n            >\n              <span>아니요</span>\n            </TextButton>\n          </div>\n        </>\n      );\n    }\n  }, [socket, game, updateGame]);\n\n  const index = game?.players.findIndex((p) => p === clientId) as -1 | 0 | 1;\n  const involved = !!clientId && game?.players.includes(clientId);\n\n  return game === null ? (\n    <div className=\"w-full h-full\">\n      <BlockLoading />\n    </div>\n  ) : (\n    <div className=\"w-full h-full\">\n      <div className=\"fixed z-50\">\n        {involved && <TextButton\n          size=\"sm\"\n          onClick={async () => {\n            if (!socket) return;\n            if (!clientId) return;\n            socket.emit(\"end game\", { client: clientId });\n            const endGameMessage = await getServerResponse(\"end game response\");\n            if (!endGameMessage.success) {\n              addToast(endGameMessage.error, {\n                appearance: \"error\",\n                autoDismiss: true,\n              });\n            }\n          }}\n        >\n          End Game\n        </TextButton>}\n      </div>\n      <div className=\"fixed z-30 right-0 top-0\">\n        <IconButton\n          onClick={() => {\n            setShowLogs((s) => !s);\n          }}\n        >\n          {showLogs ? <MdClose /> : <IoIosArrowDown />}\n        </IconButton>\n      </div>\n      {showLogs && (\n        <div\n          className=\"fixed right-0 top-0 text-xs max-w-md overflow-y-auto z-20 bg-white bg-opacity-75 p-4 rounded-xl\"\n          style={{ maxHeight: \"10rem\" }}\n        >\n          <pre className=\"max-w-md break-all whitespace-pre-wrap\">\n            {game.logs.join(\"\\n\")}\n          </pre>\n        </div>\n      )}\n      <GoStop\n        game={game}\n        player={index === -1 ? null : index}\n        clientId={clientId}\n        updateGame={updateGame}\n        {...routeComponentProps}\n      />\n      {showDialog && (\n        <div\n          className=\"w-full h-full flex place-items-center fixed z-10 top-0 left-0\"\n          style={{\n            backgroundColor: \"rgba(0, 0, 0, 0.45)\",\n          }}\n        >\n          <div className=\"p-8 bg-white rounded-2xl w-2/3 text-center m-auto\">\n            {dialogContent}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default connect<AppState>((s) => s, actions)(RoomGameStarted);\n","import React from \"react\";\nimport { Redirect, RouteComponentProps } from \"react-router-dom\";\nimport { connect } from \"redux-zero/react\";\nimport actions, { ActionTypes } from \"../actions\";\nimport { AppState } from \"../store\";\nimport { emitToServer, getServerResponse } from \"../utils/server\";\nimport { BlockLoading } from \"react-loadingg\";\nimport IconButton from \"../components/IconButton\";\nimport { BiHome, BiLogIn, BiLogOut } from \"react-icons/bi\";\nimport { BsPlayFill } from \"react-icons/bs\";\nimport Layout from \"../components/Layout\";\nimport Header from \"../components/Header\";\nimport TextInput from \"../components/TextInput\";\nimport { Room } from \"../types/server\";\nimport { goToMyRoom } from \"../hooks\";\nimport Table from \"../components/Table\";\nimport RoomGameStarted from \"../components/RoomGameStarted\";\nimport { useToasts } from \"react-toast-notifications\";\n\nconst Rooms: React.FC<\n  RouteComponentProps<{\n    roomId: string;\n  }> &\n    AppState &\n    ActionTypes\n> = (props) => {\n  const {\n    match,\n    rooms,\n    clientId,\n    updateClientId,\n    roomId,\n    history,\n    updateRoomId,\n  } = props;\n  const { addToast } = useToasts();\n  const room: Room | null =\n    rooms?.find((room) => room.id === match.params.roomId) ?? null;\n\n  return rooms === null ? (\n    <Layout>\n      <BlockLoading />\n    </Layout>\n  ) : !room ? (\n    <Redirect to=\"/\" />\n  ) : !room.gameStarted ? (\n    <Layout>\n      <Header>\n        <div className=\"flex\">\n          <IconButton className=\"mr-4\" onClick={() => history.push(\"/\")}>\n            <BiHome />\n          </IconButton>\n          <TextInput\n            className=\"w-64 my-1\"\n            placeholder=\"Client ID\"\n            value={clientId ?? \"\"}\n            onChange={(event) => {\n              updateClientId(event.target.value);\n            }}\n          />\n          {roomId && (\n            <IconButton\n              className=\"ml-4\"\n              onClick={goToMyRoom(\n                { history, clientId, roomId, rooms, updateRoomId, addToast },\n                false\n              )}\n            >\n              <BiLogIn />\n            </IconButton>\n          )}\n        </div>\n      </Header>\n      <main>\n        <h2 className=\"p-4 font-bold text-3xl text-gray-800 inline-flex\">\n          Room {match.params.roomId}\n          {roomId === match.params.roomId && clientId && (\n            <>\n              <IconButton\n                onClick={async () => {\n                  emitToServer(\"start game\", { client: clientId });\n                  const startGameMessage = await getServerResponse(\n                    \"start game response\"\n                  );\n                  if (!startGameMessage.success) {\n                    addToast(startGameMessage.error, {\n                      appearance: \"error\",\n                      autoDismiss: true,\n                    });\n                  }\n                }}\n                className=\"ml-4\"\n              >\n                <BsPlayFill />\n              </IconButton>\n              <IconButton\n                onClick={async () => {\n                  emitToServer(\"exit room\", { client: clientId });\n                  const exitRoomMessage = await getServerResponse(\n                    \"exit room response\"\n                  );\n                  if (exitRoomMessage.success) {\n                    setTimeout(() => {\n                      history.replace(\"/\");\n                    }, 300);\n                  } else {\n                    addToast(exitRoomMessage.error, {\n                      appearance: \"error\",\n                      autoDismiss: true,\n                    });\n                  }\n                }}\n                className=\"ml-4\"\n              >\n                <BiLogOut />\n              </IconButton>\n            </>\n          )}\n          {roomId !== match.params.roomId && clientId && (\n            <>\n              <IconButton\n                onClick={async () => {\n                  emitToServer(\"join room\", {\n                    client: clientId,\n                    room: match.params.roomId,\n                  });\n                  const joinRoomMessage = await getServerResponse(\n                    \"join room response\"\n                  );\n                  if (joinRoomMessage.success) {\n                    updateRoomId(room.id);\n                  } else {\n                    addToast(joinRoomMessage.error, {\n                      appearance: \"error\",\n                      autoDismiss: true,\n                    });\n                  }\n                }}\n                className=\"ml-4\"\n              >\n                <BiLogIn />\n              </IconButton>\n            </>\n          )}\n        </h2>\n\n        <Table.Wrapper>\n          <Table.Head>\n            <Table.Row>\n              <Table.Header>Player ID</Table.Header>\n            </Table.Row>\n          </Table.Head>\n          <Table.Body>\n            {rooms === null ? (\n              <Table.Row>\n                <Table.Data className=\"w-full\" colSpan={3}>\n                  <div className=\"h-24 relative\">\n                    <BlockLoading />\n                  </div>\n                </Table.Data>\n              </Table.Row>\n            ) : (\n              rooms\n                .find((room) => room.id === match.params.roomId)!\n                .players.map((player) => (\n                  <Table.Row key={player}>\n                    <Table.Data className=\"w-1/2\">\n                      <span className=\"text-gray-700 px-6 py-3 flex items-center\">\n                        {player}\n                      </span>\n                    </Table.Data>\n                  </Table.Row>\n                ))\n            )}\n          </Table.Body>\n        </Table.Wrapper>\n      </main>\n    </Layout>\n  ) : (\n    <RoomGameStarted id={match.params.roomId} />\n  );\n};\n\nexport default connect<AppState>((s) => s, actions)(Rooms);\n","import React from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { connect } from \"redux-zero/react\";\nimport { BlockLoading } from \"react-loadingg\";\nimport { BiHome, BiLogIn } from \"react-icons/bi\";\nimport { GrOverview } from \"react-icons/gr\";\n\nimport actions, { ActionTypes } from \"../actions\";\nimport { AppState } from \"../store\";\nimport { emitToServer, getServerResponse } from \"../utils/server\";\nimport IconButton from \"../components/IconButton\";\nimport TextInput from \"../components/TextInput\";\nimport Table from \"../components/Table\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { goToMyRoom } from \"../hooks\";\nimport Layout from \"../components/Layout\";\nimport Header from \"../components/Header\";\nimport { useToasts } from \"react-toast-notifications\";\n\ntype MainProps = AppState & ActionTypes;\nconst Main: React.FC<RouteComponentProps & MainProps> = ({\n  history,\n  clientId,\n  roomId,\n  rooms,\n  updateRoomId,\n  updateClientId,\n}) => {\n  const { addToast } = useToasts();\n\n  useAsyncEffect(\n    goToMyRoom(\n      { history, clientId, roomId, rooms, updateRoomId, addToast },\n      true\n    ),\n    [roomId, clientId, history, rooms, updateRoomId]\n  );\n\n  return (\n    <Layout>\n      <Header>\n        <div className=\"flex\">\n          <IconButton className=\"mr-4\" onClick={() => history.push(\"/\")}>\n            <BiHome />\n          </IconButton>\n          <TextInput\n            className=\"w-64 my-1\"\n            placeholder=\"Client ID\"\n            value={clientId ?? \"\"}\n            onChange={(event) => {\n              updateClientId(event.target.value);\n            }}\n          />\n          {roomId && (\n            <IconButton\n              className=\"ml-4\"\n              onClick={goToMyRoom(\n                { history, clientId, roomId, rooms, updateRoomId, addToast },\n                false\n              )}\n            >\n              <BiLogIn />\n            </IconButton>\n          )}\n        </div>\n      </Header>\n      <main>\n        <h2 className=\"p-4 font-bold text-3xl text-gray-800\">Rooms</h2>\n\n        <Table.Wrapper>\n          <Table.Head>\n            <Table.Row>\n              <Table.Header>Room ID</Table.Header>\n              <Table.Header># of Players</Table.Header>\n              <Table.Header></Table.Header>\n            </Table.Row>\n          </Table.Head>\n          <Table.Body>\n            {rooms === null ? (\n              <Table.Row>\n                <Table.Data className=\"w-full\" colSpan={3}>\n                  <div className=\"h-24 relative\">\n                    <BlockLoading />\n                  </div>\n                </Table.Data>\n              </Table.Row>\n            ) : (\n              rooms.map((room) => (\n                <Table.Row key={room.id}>\n                  <Table.Data className=\"w-1/2\">\n                    <span className=\"text-gray-700 px-6 py-3 flex items-center\">\n                      {room.id}\n                    </span>\n                  </Table.Data>\n                  <Table.Data className=\"w-1/4\">\n                    <span className=\"text-gray-700 px-6 py-3 flex items-center\">\n                      {room.players.length}/2\n                    </span>\n                  </Table.Data>\n                  <Table.Data className=\"p-2 flex justify-end\">\n                    <IconButton\n                      onClick={async () => {\n                        if (roomId) {\n                          addToast(\"You are already in a different room.\", {\n                            appearance: \"error\",\n                            autoDismiss: true,\n                          });\n                          return;\n                        }\n                        if (!clientId) {\n                          addToast(\"You did not set the clientId yet.\", {\n                            appearance: \"error\",\n                            autoDismiss: true,\n                          });\n                          return;\n                        }\n\n                        emitToServer(\"join room\", {\n                          client: clientId,\n                          room: room.id,\n                        });\n                        const newRoomId = await getServerResponse(\n                          \"join room response\"\n                        );\n                        if (newRoomId.success) {\n                          updateRoomId(room.id);\n                          history.push(`/rooms/${room.id}`);\n                        } else {\n                          addToast(newRoomId.error, {\n                            appearance: \"error\",\n                            autoDismiss: true,\n                          });\n                        }\n                      }}\n                    >\n                      <BiLogIn />\n                    </IconButton>\n                    <IconButton\n                      onClick={() => {\n                        history.push(`/rooms/${room.id}`);\n                      }}\n                    >\n                      <GrOverview />\n                    </IconButton>\n                  </Table.Data>\n                </Table.Row>\n              ))\n            )}\n            <Table.Row>\n              <Table.Data className=\"w-full\" colSpan={3}>\n                <div className=\"h-24 flex items-center justify-center\">\n                  <button\n                    className=\"w-40 bg-white tracking-wide text-gray-800 font-bold rounded border-b-2 border-blue-500 hover:border-blue-600 hover:bg-blue-500 hover:text-white shadow-md py-2 px-6 inline-flex items-center m-auto\"\n                    onClick={async () => {\n                      if (roomId) {\n                        addToast(\"You are already in a different room.\", {\n                          appearance: \"error\",\n                          autoDismiss: true,\n                        });\n                        return;\n                      }\n                      if (!clientId) {\n                        addToast(\"You did not set the clientId yet.\", {\n                          appearance: \"error\",\n                          autoDismiss: true,\n                        });\n                        return;\n                      }\n\n                      emitToServer(\"make room\", { client: clientId });\n                      const newRoomId = await getServerResponse(\n                        \"make room response\"\n                      );\n                      if (newRoomId.success) {\n                        updateRoomId(newRoomId.result.id);\n                        setTimeout(() => {\n                          history.push(`/rooms/${newRoomId.result.id}`);\n                        }, 200);\n                      } else {\n                        addToast(newRoomId.error, {\n                          appearance: \"error\",\n                          autoDismiss: true,\n                        });\n                      }\n                    }}\n                  >\n                    <span className=\"mx-auto\">Make a room</span>\n                  </button>\n                </div>\n              </Table.Data>\n            </Table.Row>\n          </Table.Body>\n        </Table.Wrapper>\n      </main>\n    </Layout>\n  );\n};\n\nexport default connect<AppState>((s) => s, actions)(Main);\n","export function assert(condition: boolean, errorMessage?: any) {\n  if (!condition) {\n    throw new Error(errorMessage);\n  }\n}\n","import React from \"react\";\nimport { connect } from \"redux-zero/react\";\nimport actions from \"../actions\";\nimport Layout from \"../components/Layout\";\nimport { AppState } from \"../store\";\n\ntype NotFoundProps = {};\nconst NotFound: React.FC<NotFoundProps> = () => {\n  return (\n    <Layout>\n      <div className=\"flex w-full h-screen text-center place-items-center place-content-center\">\n        <span className=\"text-gray-500 font-bold\" style={{ fontSize: \"10em\" }}>\n          ∄\n        </span>\n      </div>\n    </Layout>\n  );\n};\n\nexport default connect<AppState>((s) => s, actions)(NotFound);\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter, Route, Redirect, Switch } from \"react-router-dom\";\nimport { connect } from \"redux-zero/react\";\nimport useAsyncEffect from \"use-async-effect\";\n\nimport actions, { ActionTypes } from \"./actions\";\nimport { AppState } from \"./store\";\nimport Rooms from \"./pages/Rooms\";\nimport Main from \"./pages/Main\";\nimport {\n  attachServerListener,\n  emitToServer,\n  getServerResponse,\n  removeServerListener,\n} from \"./utils/server\";\nimport { assert } from \"./utils/test\";\nimport { Message, Result } from \"./types/server\";\nimport { socket } from \"./socket\";\nimport NotFound from \"./pages/NotFound\";\nimport { useToasts } from \"react-toast-notifications\";\n\ntype AppProps = AppState & ActionTypes;\n\nconst App: React.FC<AppProps> = ({\n  clientId,\n  updateClientId,\n  updateRoomId,\n  updateRooms,\n}) => {\n  const { addToast } = useToasts();\n\n  // server check\n  useAsyncEffect(async () => {\n    if (!socket) return;\n    const welcomeMessage = await getServerResponse(\"connect response\");\n    if (welcomeMessage.success) {\n      try {\n        assert(welcomeMessage.message.split(\" \")[1].slice(0, -1) === socket.id);\n        console.log(\"connected!\");\n      } catch {\n        addToast(\"Socket id does not match\", {\n          appearance: \"error\",\n          autoDismiss: true,\n        });\n      }\n    } else {\n      addToast(welcomeMessage.error, {\n        appearance: \"error\",\n        autoDismiss: true,\n      });\n    }\n  }, [socket.connected]);\n\n  // initialize client id from the localStorage\n  useEffect(() => {\n    updateClientId(localStorage.getItem(\"clientId\") ?? \"\");\n  }, [updateClientId]);\n\n  // initialize my room whenever (socket and) clientId changes\n  useAsyncEffect(async () => {\n    if (!clientId) return;\n\n    emitToServer(\"my room\", { client: clientId });\n    const myRoomMessage = await getServerResponse(\"my room response\");\n    if (myRoomMessage.success) {\n      updateRoomId(myRoomMessage.result?.id ?? null);\n    } else {\n      addToast(myRoomMessage.error, {\n        appearance: \"error\",\n        autoDismiss: true,\n      });\n    }\n  }, [clientId]);\n\n  useEffect(() => {\n    emitToServer(\"list rooms\", {});\n\n    const listRoomsListener = (\n      message: Result<Message[\"list rooms response\"]>\n    ) => {\n      if (message.success) {\n        updateRooms(message.result);\n      }\n    };\n    attachServerListener(\"list rooms response\", listRoomsListener);\n\n    return () => {\n      removeServerListener(\"list rooms response\", listRoomsListener);\n    };\n  }, [updateRooms]);\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route path=\"/rooms/:roomId\" component={Rooms} />\n        <Route path=\"/rooms\" render={() => <Redirect to=\"/\" />} />\n        <Route exact path=\"/\" render={(props) => <Main {...props} />} />\n        <Route path=\"/\" render={(props) => <NotFound {...props} />} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default connect<AppState>((s) => s, actions)(App);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import createStore from \"redux-zero\";\nimport { Game } from \"./types/game\";\nimport { Room } from \"./types/server\";\n\nexport interface AppState {\n  clientId: string | null;\n  rooms: Room[] | null;\n  roomId: string | null;\n  game: Game | null;\n}\n\nconst initialState: AppState = {\n  clientId: null,\n  rooms: null,\n  roomId: null,\n  game: null,\n};\n\nconst store = createStore<AppState>(initialState);\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport { ToastProvider } from \"react-toast-notifications\";\nimport { Provider } from \"redux-zero/react\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <ToastProvider>\n      <App />\n    </ToastProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}